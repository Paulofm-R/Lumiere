(function(){"use strict";var e={1589:function(e,t,a){a(6992),a(8674),a(9601),a(7727);var r=a(144),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("NavBar"),a("Footer")],1)},n=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"navBar"}},[a("b-container",{attrs:{fluid:""}},[a("b-row",{attrs:{id:"nav"}},[a("b-col",{attrs:{cols:"4"}},[a("router-link",{staticClass:"nome",attrs:{to:"/"}},[e._v("Lumière")])],1),a("b-col",{staticClass:"links",attrs:{cols:"8"}},[a("router-link",{staticClass:"link",attrs:{to:{name:"filmes"}}},[e._v("Catálogo")]),a("router-link",{staticClass:"link",attrs:{to:{name:"jogos"}}},[e._v("Jogos")]),a("router-link",{staticClass:"link",attrs:{to:{name:"sobreNos"}}},[e._v("Sobre Nós ")]),null===e.getLoggedUser?a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.loginModal",modifiers:{loginModal:!0}}],attrs:{id:"entrar"}},[e._v("ENTRAR")]):a("router-link",{staticClass:"link",attrs:{to:{name:"perfil"}}},[a("span",{attrs:{id:"nomeUtilizador"}},[e._v(e._s(e.loggedUtilizador.nome))]),a("img",{attrs:{src:e.loggedUtilizador.foto,id:"imgPerfil"}})]),null!==e.getLoggedUser?a("b-button",{attrs:{variant:"outline-light"},on:{click:function(t){return e.logout()}}},[a("b-icon",{attrs:{icon:"door-open"}})],1):e._e()],1),a("b-modal",{ref:"loginModal",attrs:{id:"loginModal",centered:"","header-bg-variant":"info","header-text-variant":"light","body-bg-variant":"light","footer-bg-variant":"light","no-stacking":""},scopedSlots:e._u([{key:"modal-header",fn:function(t){var r=t.close;return[a("h4",{staticClass:"modalTitulo"},[e._v("LOGIN")]),a("b-button",{staticClass:"fecharModal",attrs:{variant:"info"},on:{click:r}},[e._v("x")])]}},{key:"modal-footer",fn:function(){return[a("b-button",{staticClass:"modalFooter",attrs:{id:"login"},on:{click:function(t){return e.handleLogin()}}},[e._v("Login")])]},proxy:!0}])},[[a("div",{staticClass:"bodyModal"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[a("div",{staticClass:"inputLogin"},[a("label",{attrs:{for:"username"}},[e._v("Username: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.utilizador.nome,expression:"utilizador.nome"}],attrs:{type:"text",id:"username"},domProps:{value:e.utilizador.nome},on:{input:function(t){t.target.composing||e.$set(e.utilizador,"nome",t.target.value)}}})]),a("div",{staticClass:"inputLogin"},[a("label",{attrs:{for:"password"}},[e._v("Password : ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.utilizador.palavra_passe,expression:"utilizador.palavra_passe"}],attrs:{type:"password",id:"password"},domProps:{value:e.utilizador.palavra_passe},on:{input:function(t){t.target.composing||e.$set(e.utilizador,"palavra_passe",t.target.value)}}})]),a("p",{attrs:{id:"txtRegisto"}},[e._v("Não tens conta?"),a("a",{directives:[{name:"b-modal",rawName:"v-b-modal.registarModal",modifiers:{registarModal:!0}}],staticStyle:{color:"#4BC3B5"}},[e._v("Regista-te!")])])]),e.message?a("div",{staticClass:"alert",class:e.successful?"alert-success":"alert-danger"},[e._v(" "+e._s(e.message)+" ")]):e._e(),e.errors.length?a("p",[a("b",[e._v("Por favor corrija os seguintes erros:")]),a("ul",e._l(e.errors,(function(t,r){return a("li",{key:r},[e._v(e._s(t))])})),0)]):e._e()])]],2),a("b-modal",{ref:"registarModal",attrs:{id:"registarModal",centered:"","header-bg-variant":"info","header-text-variant":"light","body-bg-variant":"light","footer-bg-variant":"light"},scopedSlots:e._u([{key:"modal-header",fn:function(t){var r=t.close;return[a("h4",{staticClass:"modalTitulo"},[e._v("REGISTAR")]),a("b-button",{staticClass:"fecharModal",attrs:{variant:"info"},on:{click:r}},[e._v("x")])]}},{key:"modal-footer",fn:function(){return[a("b-button",{staticClass:"modalFooter",attrs:{id:"registar"},on:{click:function(t){return e.handleRegister()}}},[e._v("Registar")])]},proxy:!0}])},[[a("form",{on:{submit:function(t){return t.preventDefault(),e.regitar.apply(null,arguments)}}},[a("b-row",[a("b-col",{attrs:{id:"labelRegistro",cols:"6"}},[a("label",{staticClass:"labelRegistro",attrs:{for:"username"}},[e._v("Username: ")]),a("br"),a("label",{staticClass:"labelRegistro",attrs:{for:"password"}},[e._v("Password : ")]),a("br"),a("label",{staticClass:"labelRegistro",attrs:{for:"cPassword"}},[e._v("Confirmar Password: ")]),a("br"),a("label",{staticClass:"labelRegistro",attrs:{for:"dataNasc"}},[e._v("Data Nascimento: ")])]),a("b-col",{attrs:{id:"inputRegistro",cols:"6"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.novoUtilizador.nome,expression:"novoUtilizador.nome"}],staticClass:"inputRegistro",attrs:{type:"text",id:"username",required:""},domProps:{value:e.novoUtilizador.nome},on:{input:function(t){t.target.composing||e.$set(e.novoUtilizador,"nome",t.target.value)}}}),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.novoUtilizador.palavra_passe,expression:"novoUtilizador.palavra_passe"}],staticClass:"inputRegistro",attrs:{type:"password",id:"password",required:""},domProps:{value:e.novoUtilizador.palavra_passe},on:{input:function(t){t.target.composing||e.$set(e.novoUtilizador,"palavra_passe",t.target.value)}}}),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.cpalavra_passe,expression:"cpalavra_passe"}],staticClass:"inputRegistro",attrs:{type:"password",id:"cPassword",required:""},domProps:{value:e.cpalavra_passe},on:{input:function(t){t.target.composing||(e.cpalavra_passe=t.target.value)}}}),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.novoUtilizador.data_nascimento,expression:"novoUtilizador.data_nascimento"}],staticClass:"inputRegistro",attrs:{type:"date",id:"dataNasc",required:""},domProps:{value:e.novoUtilizador.data_nascimento},on:{input:function(t){t.target.composing||e.$set(e.novoUtilizador,"data_nascimento",t.target.value)}}})])],1)],1),e.message?a("div",{staticClass:"alert",class:e.successful?"alert-success":"alert-danger"},[e._v(" "+e._s(e.message)+" ")]):e._e(),e.errors.length?a("p",[a("b",[e._v("Por favor corrija os seguintes erros:")]),a("ul",e._l(e.errors,(function(t,r){return a("li",{key:r},[e._v(e._s(t))])})),0)]):e._e()]],2),a("router-view")],1)],1)],1)},i=[],c=a(7673),l=a(6198),u=a(3019),d=a(2751),m=a(6133),f=(a(1539),a(9714),a(8862),a(629)),p=(0,d.Z)((function e(t,a){(0,m.Z)(this,e),this.nome=t,this.palavra_passe=a})),g=(0,d.Z)((function e(t,a,r){(0,m.Z)(this,e),this.nome=t,this.palavra_passe=a,this.data_nascimento=r})),v={name:"NavBar",data:function(){return{cpalavra_passe:"",utilizadores:localStorage.getItem("utilizadores")?JSON.parse(localStorage.getItem("utilizadores")):[],utilizador:new p("","",""),novoUtilizador:new g(null,null,null,null),message:null,successful:!1,errors:[],loggedUtilizador:null}},computed:(0,u.Z)({},(0,f.Se)(["getMessage","isUser","isUsernameAvailable","getLoggedUser","getLoggedIn","getUtilizador"])),methods:{handleLogin:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.errors=[],!e.utilizador.nome||!e.utilizador.palavra_passe){t.next=14;break}return t.prev=2,t.next=5,e.$store.dispatch("login",e.utilizador);case 5:e.$refs["loginModal"].hide(),e.getLoggedUserInfo(),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),e.message=t.t0.response&&t.t0.response.data||t.t0.message||t.t0.toString();case 12:t.next=16;break;case 14:e.utilizador.nome||e.errors.push("É preciso um nome de utilizador"),e.utilizador.palavra_passe||e.errors.push("É preciso de uma palavra-passe");case 16:case"end":return t.stop()}}),t,null,[[2,9]])})))()},handleRegister:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.message="",e.successful=!1,e.errors=[],!(e.novoUtilizador.nome&&e.novoUtilizador.palavra_passe&&e.novoUtilizador.data_nascimento)){t.next=24;break}if(e.novoUtilizador.palavra_passe!=e.cpalavra_passe){t.next=21;break}return t.prev=5,t.next=8,e.$store.dispatch("register",e.novoUtilizador);case 8:e.message=e.getMessage,e.successful=!0,e.$refs["registarModal"].hide(),e.utilizador.nome=e.novoUtilizador.nome,e.utilizador.palavra_passe=e.novoUtilizador.palavra_passe,e.handleLogin(),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](5),e.message=t.t0.response&&t.t0.response.data||t.t0.message||t.t0.toString();case 19:t.next=22;break;case 21:e.errors.push("A palavra passe não foi confirmada corretamente");case 22:t.next=27;break;case 24:e.novoUtilizador.nome||e.errors.push("É preciso um nome de utilizador"),e.novoUtilizador.palavra_passe||e.errors.push("É preciso de uma palavra-passe"),e.novoUtilizador.data_nascimento||e.errors.push("É preciso de uma data de nascimento");case 27:case"end":return t.stop()}}),t,null,[[5,16]])})))()},getLoggedUserInfo:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){var a;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getLoggedUser;case 3:return a=t.sent,t.next=6,e.$store.dispatch("getUtilizador",a.id);case 6:return t.next=8,e.getUtilizador;case 8:e.loggedUtilizador=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),e.message=t.t0.response&&t.t0.response.data||t.t0.message||t.t0.toString();case 14:return t.prev=14,e.loading=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,11,14,17]])})))()},logout:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("logout");case 2:e.$router.push({name:"paginaInicial"});case 3:case"end":return t.stop()}}),t)})))()}},watch:{utilizadores:{deep:!0,handler:function(){localStorage.setItem("utilizadores",JSON.stringify(this.utilizadores))}}},mounted:function(){null!==this.getLoggedUser&&this.getLoggedUserInfo()}},h=v,b=a(1001),_=(0,b.Z)(h,s,i,!1,null,"4f7d4ca8",null),x=_.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"footer"}},[a("b-container",{attrs:{fluid:""}},[a("b-row",{attrs:{"align-h":"center"}},[a("b-col",{attrs:{id:"linhaFooter"}},[a("hr")])],1),a("b-row",{attrs:{"align-h":"between"}},[a("b-col",{staticClass:"links",attrs:{cols:"2"}},[a("router-link",{staticClass:"nome",attrs:{to:"/"}},[e._v("Lumière")]),a("br"),a("router-link",{staticClass:"link",attrs:{to:{name:"filmes"}}},[e._v("Catálogo")]),a("br"),a("router-link",{staticClass:"link",attrs:{to:{name:"jogos"}}},[e._v("Jogos")]),a("br"),a("router-link",{staticClass:"link",attrs:{to:{name:"sobreNos"}}},[e._v("Sobre Nós ")])],1),a("b-col",{attrs:{cols:"2",id:"redes"}},[a("b-icon",{staticClass:"icon",attrs:{icon:"facebook","font-scale":"2.55"}}),a("b-icon",{staticClass:"icon",attrs:{icon:"instagram","font-scale":"2.55"}}),a("b-icon",{staticClass:"icon",attrs:{icon:"twitter","font-scale":"2.55"}}),a("br"),a("span",[e._v("@2022")])],1)],1)],1)],1)},w=[],S={name:"ComponenteFooter"},E=S,Z=(0,b.Z)(E,k,w,!1,null,"55dc4e14",null),C=Z.exports,z={components:{NavBar:x,Footer:C}},y=z,A=(0,b.Z)(y,o,n,!1,null,null,null),T=A.exports,U=(a(1703),a(8345)),F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-container",{attrs:{fluid:""}},[r("div",{attrs:{id:"txtEntrada"}},[r("b-col",{attrs:{cols:"12"}},[r("h1",[e._v("És amante da sétima arte?")]),r("p",{attrs:{id:"entrada"}},[e._v("Mostra-nos os teus conhecimentos ou conhece "),r("br"),e._v(" novos filmes e séries no catálogo, podes "),r("br"),e._v(" encontrar o que os nossos cinéfilos pensam sobre "),r("br"),e._v(" eles.")])])],1),r("div",{attrs:{id:"links"}},[r("b-row",{attrs:{align:"center center"}},[r("router-link",{staticClass:"link",attrs:{to:{name:"filmes"}}},[r("div",{attrs:{id:"catalogo"}})]),r("router-link",{staticClass:"link",attrs:{to:{name:"jogos"}}},[r("div",{attrs:{id:"jogos"}})]),r("router-link",{staticClass:"link",attrs:{to:{name:"sobreNos"}}},[r("div",{attrs:{id:"sobreNos"}})])],1)],1),r("div",{attrs:{id:"infoCatalogo"}},[r("h3",[e._v("CATÁLOGO")]),r("p",{attrs:{align:"left"}},[e._v("Conhece novos filmes e séries, e a opinião dos "),r("br"),e._v(" nossos utilizadores. Ou então, conta-nos a tua "),r("br"),e._v(" opinião sobre as mesma e dá a conhecer a tua "),r("br"),e._v(" opinião a todos.")]),r("img",{attrs:{src:a(829),id:"vetor1"}}),r("img",{attrs:{src:a(9136),id:"imgCatalogo"}})]),r("div",{attrs:{id:"infoJogos"}},[r("h3",{attrs:{align:"right"}},[e._v("JOGOS")]),r("p",{staticStyle:{"text-align":"right"}},[e._v("Encontra diversos jogos sobre os teus filmes e "),r("br"),e._v(" séries favoritas. Compete contra outros cinéfilos "),r("br"),e._v(" como tu e prova quem é o verdadeiro conhecedor "),r("br"),e._v(" da sétima arte. Entra para jogar!")]),r("img",{attrs:{src:a(829),id:"vetor2"}}),r("img",{attrs:{src:a(7940),id:"imgJogo"}})]),r("div",{attrs:{id:"infoSobreNos"}},[r("h3",[e._v("SOBRE NÓS")]),r("p",{attrs:{align:"left"}},[e._v("Descobre um pouco como começou este projeto e "),r("br"),e._v(" tudo sobre nós!")]),r("img",{attrs:{src:a(829),id:"vetor3"}}),r("img",{attrs:{src:a(5218),id:"imgSobreNos"}})])])],1)},M=[],O={name:"paginaInicial"},j=O,N=(0,b.Z)(j,F,M,!1,null,"5d03cf47",null),I=N.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-container",{attrs:{fluid:""}},[a("h1",[e._v("CATÁLOGO")]),a("b-row",{attrs:{"align-h":"center",id:"filtro"}},[a("b-col",{attrs:{cols:"3"}},[a("b-form-input",{attrs:{placeholder:"Pesquisa..."},model:{value:e.txtNomeFilme,callback:function(t){e.txtNomeFilme=t},expression:"txtNomeFilme"}})],1),a("b-col",{attrs:{cols:"2"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.filtroCategoria,expression:"filtroCategoria"}],attrs:{name:"selectFiltro",id:"selectFiltro"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.filtroCategoria=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",selected:""}},[e._v("Todos")]),e._l(e.categoriasOrdenadasSelect,(function(t,r){return a("option",{key:r,domProps:{value:t.categoria}},[e._v(" "+e._s(t.categoria))])}))],2)])],1),e.loggedUtilizador&&"admin"==e.loggedUtilizador.tipo?a("b-row",{attrs:{id:"adicionar"}},[a("b-button",{attrs:{id:"botaoAdicionar"},on:{click:function(t){return e.$router.push({name:"adicionarFilme"})}}},[e._v("ADICIONAR")])],1):e._e(),a("b-row",{staticClass:"melhorAvaliados",attrs:{"align-h":"center"}},[a("h2",[e._v("Melhor Avaliados Filmes")]),e._l(e.melhorFilmesAvaliadosOrdenados,(function(t,r){return a("b-col",{key:r,staticClass:"catalogoMelhorAvaliados",attrs:{cols:"2"}},[a("div",{staticClass:"card",on:{click:function(a){return e.escolherFilme(t._id)}}},[a("img",{attrs:{src:t.imagem,alt:"Poster"}}),a("span",[e._v(e._s(t.nome))]),a("span",[e._v(e._s(t.avaliacao)+" "),a("b-icon",{attrs:{icon:"star-fill"}})],1)])])})),0==e.melhorFilmesAvaliadosOrdenados.length?a("p",[e._v("Não temos Filmes desta categoria")]):e._e()],2),a("b-row",{staticClass:"melhorAvaliados",attrs:{"align-h":"center"}},[a("h2",[e._v("Melhor Avaliados Series")]),e._l(e.melhorSeriesAvaliadosOrdenados,(function(t,r){return a("b-col",{key:r,staticClass:"catalogoMelhorAvaliados",attrs:{cols:"2"}},[a("div",{staticClass:"card",on:{click:function(a){return e.escolherFilme(t._id)}}},[a("img",{attrs:{src:t.imagem,alt:"Poster"}}),a("span",[e._v(e._s(t.nome))]),a("span",[e._v(e._s(t.avaliacao)+" "),a("b-icon",{attrs:{icon:"star-fill"}})],1)])])})),0==e.melhorSeriesAvaliadosOrdenados.length?a("p",[e._v("Não temos Series desta categoria")]):e._e()],2),a("div",e._l(e.categoriasOrdenadas,(function(t,r){return a("b-row",{key:r,staticClass:"filmesCategorias"},[e.filmesCatalogo(t.categoria).length>0?a("div",[a("h2",[e._v(e._s(t.categoria))]),a("div",{ref:"carousel",refInFor:!0,staticClass:"carouselFilmes"},e._l(e.filmesCatalogo(t.categoria),(function(t,r){return a("b-col",{key:r,staticClass:"filme card",attrs:{cols:"2"}},[a("b-img",{staticClass:"poster",attrs:{src:t.imagem,alt:"Poster"},on:{click:function(a){return e.escolherFilme(t._id)}}})],1)})),1),e.filmesCatalogo(t.categoria).length>5?a("b-button",{staticClass:"setas seta_esquerda",on:{click:function(t){return e.andarEsquerda(r)}}},[a("b-icon",{attrs:{icon:"arrow-left-square"}})],1):e._e(),e.filmesCatalogo(t.categoria).length>5?a("b-button",{staticClass:"setas seta_direita",on:{click:function(t){return e.andarDireita(r)}}},[a("b-icon",{attrs:{icon:"arrow-right-square"}})],1):e._e()],1):e._e()])})),1)],1)],1)},J=[],D=a(7965),P=(a(2707),a(7042),a(7327),a(6699),a(2023),a(9826),{name:"PaginaFilmes",data:function(){return{txtNomeFilme:"",filtroCategoria:"",message:"",filmes:[],categorias:[],loggedUtilizador:null}},computed:(0,u.Z)((0,u.Z)({},(0,f.Se)(["getFilmes","getCategoria","getLoggedUser","isNomeFilmeAvalido","isCategoriaAvailable","getUtilizador"])),{},{melhorFilmesAvaliadosOrdenados:function(){var e=this,t=this.filmes.filter((function(t){return"Filme"==t.tipo&&(t.nome.includes(e.txtNomeFilme)||t.elenco.find((function(t){return t===e.txtNomeFilme})))&&(t.categoria.find((function(t){return t==e.filtroCategoria}))||""==e.filtroCategoria)})).slice(0).sort(this.compararAvaliacoes),a=[];if(t.length>2)a.push(t[2]),a.push(t[0]),a.push(t[1]);else{var r,o=(0,D.Z)(t);try{for(o.s();!(r=o.n()).done;){var n=r.value;a.push(n)}}catch(s){o.e(s)}finally{o.f()}}return a},melhorSeriesAvaliadosOrdenados:function(){var e=this,t=this.filmes.filter((function(t){return"Serie"==t.tipo&&(t.nome.includes(e.txtNomeFilme)||t.elenco.find((function(t){return t===e.txtNomeFilme})))&&(t.categoria.find((function(t){return t==e.filtroCategoria}))||""==e.filtroCategoria)})).slice(0).sort(this.compararAvaliacoes),a=[];if(t.length>2)a.push(t[2]),a.push(t[0]),a.push(t[1]);else{var r,o=(0,D.Z)(t);try{for(o.s();!(r=o.n()).done;){var n=r.value;a.push(n)}}catch(s){o.e(s)}finally{o.f()}}return a},categoriasOrdenadasSelect:function(){return this.categorias.slice(0).sort(this.ordenarAlfabeticaCategoria)},categoriasOrdenadas:function(){var e=this;return this.categorias.filter((function(t){return t.categoria==e.filtroCategoria||""==e.filtroCategoria})).slice(0).sort(this.ordenarAlfabeticaCategoria)}}),methods:(0,u.Z)((0,u.Z)({},(0,f.OI)(["SET_NOVO_FILME","SET_NOVA_CATEGORIA","SET_FILME"])),{},{getLoggedUserInfo:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){var a;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getLoggedUser;case 3:return a=t.sent,t.next=6,e.$store.dispatch("getUtilizador",a.id);case 6:return t.next=8,e.getUtilizador;case 8:e.loggedUtilizador=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),e.message=t.t0.response&&t.t0.response.data||t.t0.message||t.t0.toString();case 14:return t.prev=14,e.loading=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,11,14,17]])})))()},getListaFilmes:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("getAllFilmes");case 3:e.filmes=e.getFilmes,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),e.message=t.t0.response&&t.t0.response.data||t.t0.message||t.t0.toString();case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getListaCategorias:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("getAllCategorias");case 3:e.categorias=e.getCategoria,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),e.message=t.t0.response&&t.t0.response.data||t.t0.message||t.t0.toString();case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},escolherFilme:function(e){this.$router.push({name:"filme",params:{filmeID:e}})},compararAvaliacoes:function(e,t){return e.avaliacao<t.avaliacao?1:e.avaliacao>t.avaliacao?-1:0},ordenarAlfabeticaCategoria:function(e,t){return e.categoria<t.categoria?-1:e.categoria>t.categoria?1:0},ordenarAlfabeticaFilmes:function(e,t){return e.nome<t.nome?-1:e.nome>t.nome?1:0},filmesCatalogo:function(e){var t=this;return this.filmes.filter((function(a){return a.categoria.find((function(t){return t==e}))&&(a.nome.includes(t.txtNomeFilme)||a.elenco.find((function(e){return e===t.txtNomeFilme})))})).sort(this.ordenarAlfabeticaFilmes)},andarEsquerda:function(e){this.$refs.carousel[e].scrollBy(-300,0)},andarDireita:function(e){console.log(e),this.$refs.carousel[e].scrollBy(300,0)}}),mounted:function(){this.getListaFilmes(),this.getListaCategorias(),null!==this.getLoggedUser&&this.getLoggedUserInfo()}}),$=P,G=(0,b.Z)($,L,J,!1,null,"6dbce0ba",null),q=G.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-container",{attrs:{fluid:""}},[a("h2",[e._v(" "+e._s(e.filme.nome)+" "),e.getLoggedUser&&"admin"==e.getLoggedUser.role?a("b-button",{attrs:{id:"removerFilme"},on:{click:e.removerFilme}},[e._v(" Remover")]):e._e()],1),a("span",{attrs:{id:"classificacaoFilme"}},[e._v(e._s(e.filme.classificacao))]),a("div",{attrs:{id:"anexosFilme"}},[a("img",{attrs:{src:e.filme.imagem,id:"imgFilme"}}),a("iframe",{attrs:{width:"560",height:"315",src:e.filme.trailer,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:"",id:"trailer"}})]),a("b-col",{attrs:{cols:"6"}},[a("div",{attrs:{id:"filmeAvaliacaoFavoritos"}},[a("a",{attrs:{id:"rate"}},[a("span",[e._v(e._s(e.filme.avaliacao))]),a("b-icon",{attrs:{icon:"star-fill"}}),e._v("/5.0 ")],1),a("b-button",{attrs:{id:"avaliar",variant:"info"},on:{click:function(t){return e.avaliarModal()}}},[e._v("Avaliar")]),null!==e.getLoggedUser?a("b-button",{attrs:{variant:"info",id:"favoritos"},on:{click:function(t){return e.favoritos()}}},[e._v(" ♥ Adicionar aos favoritos")]):e._e(),null!==e.getLoggedUser?a("b-button",{attrs:{variant:"info",id:"lista"},on:{click:function(t){return e.lista()}}},[e._v("+ A minha lista ")]):e._e()],1),a("div",{staticClass:"infoFilme"},[a("p",[a("span",[e._v("Sinopse: ")]),e._v(e._s(e.filme.sinopse))]),a("p",[a("span",[e._v("Ano: ")]),e._v(e._s(e.filme.ano))]),a("p",[a("span",[e._v("Realizador: ")]),a("a",{staticClass:"infoFilme"},[e._v(e._s(e.realizador))])]),a("p",[a("span",[e._v("Produtora: ")]),a("a",{staticClass:"infoFilme"},[e._v(e._s(e.filme.produtora))])]),a("p",[a("span",[e._v("Elenco: ")]),a("a",{staticClass:"infoFilme"},[e._v(e._s(e.elenco)+" ")])]),a("p",[a("span",[e._v("Género: ")]),a("a",[e._v(e._s(e.categoria)+" ")])])])]),a("b-row",[a("div",{attrs:{id:"zonaComentarios"}},[a("hr"),a("h3",[e._v("Comentários")]),e.comentarios.length>0?a("div",[e._l(e.comentarios,(function(t,r){return a("b-row",{key:r,staticClass:"comentario"},[a("b-col",{staticClass:"imagemSpoiler",attrs:{cols:"1"}},[a("img",{staticClass:"imagemUtilizador",attrs:{src:e.utilizadoresFoto[r]}}),null!==e.getLoggedUser?a("input",{staticClass:"botaoSpoiler",attrs:{type:"image",src:"./image/spoiler.svg"},on:{click:function(a){return e.spoiler(t)}}}):e._e()]),a("b-col",{staticClass:"coment"},[a("p",{attrs:{id:"username"}},[e._v(e._s(e.utilizadoresNome[r]))]),1==t.spoiler?a("b-button",{staticClass:"esconderSpoiler",on:{click:function(e){t.spoiler=!1}}},[e._v("VER SPOILER")]):e._e(),a("p",{attrs:{id:"comentarioUser"}},[e._v(e._s(t.comentario))])],1)],1)})),a("div",{attrs:{id:"comentarioUserFundo"}})],2):a("p",{attrs:{id:"semComentarios"}},[e._v("Ainda não tem comentarios. Seja o primeiro a comentar!")])])]),a("b-modal",{ref:"avaliarModal",attrs:{id:"avaliarModal",centered:"","header-bg-variant":"info","header-text-variant":"light","body-bg-variant":"light","footer-bg-variant":"light"},scopedSlots:e._u([{key:"modal-header",fn:function(t){var r=t.close;return[a("h4",{staticClass:"modalTitulo"},[e._v("AVALIAR")]),a("b-button",{staticClass:"fecharModal",attrs:{variant:"info"},on:{click:r}},[e._v("x")])]}},{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{id:"avaliar"},on:{click:function(t){return e.avaliar()}}},[e._v("Avaliar")])]},proxy:!0}])},[[a("form",{on:{submit:function(t){return t.preventDefault(),e.avaliar.apply(null,arguments)}}},[a("div",[a("b-form-rating",{model:{value:e.avaliacao,callback:function(t){e.avaliacao=t},expression:"avaliacao"}})],1),a("div",[a("p",[e._v("Comentário:")]),a("b-form-textarea",{attrs:{id:"textarea",placeholder:"Seu comentario",rows:"5"},model:{value:e.comentario,callback:function(t){e.comentario=t},expression:"comentario"}})],1)])]],2),a("b-modal",{ref:"adicionadoSucesso",attrs:{id:"adicionadoSucesso","header-bg-variant":"info","header-text-variant":"light","body-bg-variant":"light","footer-bg-variant":"light"},scopedSlots:e._u([{key:"modal-header",fn:function(t){var r=t.close;return[a("h4",{staticClass:"modalTitulo"},[e._v("Adicionado com sucesso")]),a("b-button",{staticClass:"fecharModal",attrs:{variant:"info"},on:{click:r}},[e._v("x")])]}},{key:"modal-footer",fn:function(t){var r=t.close;return[a("b-button",{on:{click:function(e){return r()}}},[e._v("Fechar")])]}}])},[[a("p",[e._v("O filme foi adicionado com sucesso a sua lista")])]],2)],1)],1)},B=[],V=(a(9600),{name:"PaginaFilme",data:function(){return{filme:null,avaliacao:"",comentario:"",loggedUtilizador:null,utilizadoresFoto:[],utilizadoresNome:[]}},computed:(0,u.Z)((0,u.Z)({},(0,f.Se)(["getFilmes","getFilme","getLoggedUser","getUtilizadores","getUtilizador","isFilmeFavoritoValido","isFilmeListaValido"])),{},{elenco:function(){return this.filme.elenco.join(", ")},categoria:function(){return this.filme.categoria.join(", ")},realizador:function(){return this.filme.realizador.join(", ")},comentarios:function(){var e,t=(0,D.Z)(this.filme.comentarios);try{for(t.s();!(e=t.n()).done;){var a=e.value;this.utilizadoresComentarios(a.utilizador)}}catch(r){t.e(r)}finally{t.f()}return this.filme.comentarios}}),methods:(0,u.Z)((0,u.Z)({},(0,f.OI)(["SET_NOVO_COMENTARIO","SET_NOVA_AVALIACAO","SET_NOVO_FAVORITO","SET_NOVA_LISTA","SET_SPOILER","SET_REMOVER_FILME"])),{},{getFilmeInfo:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("getFilme",e.$route.params.filmeID);case 3:return t.next=5,e.getFilme.filme;case 5:e.filme=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.message=t.t0.response&&t.t0.response.data||t.t0.message||t.t0.toString();case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},avaliar:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){var a;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.avaliacao>0)){t.next=4;break}return t.next=3,e.$store.dispatch("updateAvaliacao",[e.filme._id,e.avaliacao]);case 3:e.getFilmeInfo();case 4:if(!(e.comentario.length>0)){t.next=9;break}return a={utilizador:e.loggedUtilizador._id,comentario:e.comentario},t.next=8,e.$store.dispatch("addComentario",[e.filme._id,a]);case 8:e.getFilmeInfo();case 9:e.$refs["avaliarModal"].hide();case 10:case"end":return t.stop()}}),t)})))()},getLoggedUserInfo:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){var a;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getLoggedUser;case 3:return a=t.sent,t.next=6,e.$store.dispatch("getUtilizador",a.id);case 6:return t.next=8,e.getUtilizador;case 8:e.loggedUtilizador=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),e.message=t.t0.response&&t.t0.response.data||t.t0.message||t.t0.toString();case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},spoiler:function(e){var t=this;return(0,l.Z)((0,c.Z)().mark((function a(){return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e.spoiler=0==e.spoiler,a.next=4,t.$store.dispatch("updateComentario",[t.filme._id,e.id,e.spoiler]);case 4:a.next=9;break;case 6:a.prev=6,a.t0=a["catch"](0),t.message=a.t0.response&&a.t0.response.data||a.t0.message||a.t0.toString();case 9:case"end":return a.stop()}}),a,null,[[0,6]])})))()},removerFilme:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("Tens acerteza que queres remover este filme?")){t.next=10;break}return t.prev=1,t.next=4,e.$store.dispatch("eliminarFilme",e.filme._id);case 4:e.$router.push({name:"filmes"}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),e.message=t.t0.response&&t.t0.response.data||t.t0.message||t.t0.toString();case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()},avaliarModal:function(){""!=this.getLoggedUser?this.$refs["avaliarModal"].show():alert("É preciso autenticar primeiro!")},favoritos:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isFilmeFavoritoValido(e.filme.nome)){t.next=4;break}return t.next=3,e.$store.dispatch("addFavoritos",[e.loggedUtilizador._id,e.filme._id]);case 3:e.$refs["adicionadoSucesso"].show();case 4:case"end":return t.stop()}}),t)})))()},lista:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isFilmeListaValido(e.filme.nome)){t.next=4;break}return t.next=3,e.$store.dispatch("addLista",[e.loggedUtilizador._id,e.filme._id]);case 3:e.$refs["adicionadoSucesso"].show();case 4:case"end":return t.stop()}}),t)})))()},utilizadoresComentarios:function(e){var t=this;return(0,l.Z)((0,c.Z)().mark((function a(){var r;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$store.dispatch("getUtilizador",e);case 3:return a.next=5,t.getUtilizador;case 5:r=a.sent,t.utilizadoresFoto.push(r.foto),t.utilizadoresNome.push(r.nome),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](0),t.message=a.t0.response&&a.t0.response.data||a.t0.message||a.t0.toString();case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()}}),mounted:function(){this.getFilmeInfo(),this.getLoggedUserInfo()}}),Q=V,Y=(0,b.Z)(Q,R,B,!1,null,"0c478f10",null),H=Y.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"fundo"}},[a("b-container",{attrs:{fluid:""}},[a("h1",[e._v("JOGOS")]),a("b-row",{attrs:{"align-h":"between"}},[a("b-col",{attrs:{cols:"4",id:"filtro"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.filtroTipo,expression:"filtroTipo"}],attrs:{name:"filtroJogos",id:"filtroJogos"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.filtroTipo=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",default:"",disabled:""}},[e._v("Filtrar por...")]),a("option",{attrs:{value:""}},[e._v("TODOS")]),e._l(e.getTipoJogo,(function(t,r){return a("option",{key:r,domProps:{value:t}},[e._v(e._s(t))])}))],2)]),"admin"==e.getLoggedUser.role?a("b-col",{attrs:{cols:"4",id:"adminAcoes"}},[e.acaoAdmin?a("button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"adicionarJogoModal",expression:"'adicionarJogoModal'"}]},[e._v("Adicionar")]):a("button",{on:{click:function(t){e.acaoAdmin=!0}}},[e._v("Editar")])]):e._e()],1),a("b-row",{attrs:{id:"catalogoJogos"}},e._l(e.filtroTipoJogo,(function(t,r){return a("b-col",{key:r,staticClass:"catalogoJogo",attrs:{cols:"3"}},[a("div",{staticClass:"card jogo",on:{click:function(a){return e.selecionarJogo(t._id)}}},[e.acaoAdmin?a("b-button",{staticClass:"remover",class:t.nome,on:{click:function(a){return a.stopPropagation(),e.removerJogo(t._id)}}},[e._v("X ")]):e._e(),a("b-icon",{staticClass:"classificacao",class:t.nome,attrs:{icon:"info-circle-fill",scale:"1.5",variant:"info"},on:{click:function(a){return a.stopPropagation(),e.classificacao(t._id)}}}),a("img",{attrs:{src:t.img}}),a("div",{staticClass:"nomeJogo"},[a("h4",[e._v(e._s(t.nome))])])],1)])})),1),a("b-modal",{ref:"adicionarJogoModal",attrs:{id:"adicionarJogoModal",centered:"","header-bg-variant":"info","body-bg-variant":"light","footer-bg-variant":"light"},scopedSlots:e._u([{key:"modal-header",fn:function(t){var r=t.close;return[a("b-col",{staticClass:"modalTitulo",attrs:{cols:"11"}},[a("h4",[e._v("Adicionar Jogo")])]),a("b-col",[a("b-button",{staticClass:"fecharModal",attrs:{variant:"info"},on:{click:r}},[e._v("x")])],1)]}},{key:"modal-footer",fn:function(){return[a("div",{attrs:{id:"botaoAdicionar"}},[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.adicionaJogo()}}},[e._v("ADICIONAR")])],1)]},proxy:!0}])},[[a("b-row",[a("b-col",{attrs:{cols:"4"}},[e.imagemFilme?a("input",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"fotoModal",expression:"'fotoModal'"}],attrs:{type:"image",src:e.form.imagem,alt:"Foto do Jogo",width:"100%"}}):a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"fotoModal",expression:"'fotoModal'"}],attrs:{variant:"outline-secondary",id:"novoFoto"}},[e._v("Foto Jogo "),a("br"),e._v("+")])],1),a("b-col",{attrs:{cols:"8"}},[a("b-form",{on:{submit:function(t){return t.preventDefault(),e.adicionaJogo.apply(null,arguments)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"txtNome"}},[e._v("Nome")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.nome,expression:"form.nome"}],staticClass:"form-control",attrs:{type:"text",name:"txtNome",id:"txtNome",placeholder:"Nome do Jogo",required:""},domProps:{value:e.form.nome},on:{input:function(t){t.target.composing||e.$set(e.form,"nome",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"selectTipoJogo"}},[e._v("Tipo de Jogo")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.tipo,expression:"form.tipo"}],staticClass:"form-control",attrs:{name:"selectTipoJogo",id:"selectTipoJogo",required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"tipo",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:""}},[e._v("--Selecione o tipo de jogo--")]),e._l(e.getTipoJogo,(function(t,r){return a("option",{key:r,domProps:{value:t}},[e._v(e._s(t)+" ")])}))],2)]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"txtNome"}},[e._v("Questões")]),a("input",{staticClass:"form-control",attrs:{type:"button",name:"numQuestao",id:"numQuestao",value:"Inserir as questoes"},on:{click:e.questoesJogo}})])])],1),e.message?a("div",{staticClass:"alert",class:e.successful?"alert-success":"alert-danger"},[e._v(" "+e._s(e.message)+" ")]):e._e(),e.errors.length?a("p",[a("b",[e._v("Por favor corrija os seguintes erros:")]),a("ul",e._l(e.errors,(function(t,r){return a("li",{key:r},[e._v(e._s(t))])})),0)]):e._e()],1),a("b-row",{staticClass:"justify-content-md-center",attrs:{id:"rowJogoExiste"}},[a("b-col",{attrs:{cols:"5"}},[e.jogoExiste?a("b-alert",{attrs:{show:"",variant:"danger"}},[e._v("Esse jogo já existe")]):e._e()],1)],1)]],2),a("b-modal",{ref:"fotoModal",attrs:{id:"fotoModal",centered:"","header-bg-variant":"info","body-bg-variant":"light","footer-bg-variant":"light","ok-only":""},scopedSlots:e._u([{key:"modal-header",fn:function(t){var r=t.close;return[a("b-col",{staticClass:"modalTitulo",attrs:{cols:"11"}},[a("h4",[e._v("Foto do jogo")])]),a("b-col",{staticStyle:{"text-align":"right"}},[a("b-button",{staticClass:"fecharModal",attrs:{variant:"info"},on:{click:r}},[e._v("x")])],1)]}},{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"primary"},on:{click:e.addImagem}},[e._v("Guardar")])]},proxy:!0}])},[[a("label",{attrs:{for:"urlFotoJogo"}},[e._v("URL da imagem")]),a("b-form-input",{attrs:{id:"urlFotoJogo",type:"url"},model:{value:e.form.imagem,callback:function(t){e.$set(e.form,"imagem",t)},expression:"form.imagem"}})]],2),a("b-modal",{ref:"questoesJogo",attrs:{id:"questoesJogo",centered:"","header-bg-variant":"info","body-bg-variant":"light","footer-bg-variant":"light",scrollable:"","ok-only":""},scopedSlots:e._u([{key:"modal-header",fn:function(t){var r=t.close;return[a("b-col",{staticClass:"modalTitulo",attrs:{cols:"11"}},[a("h4",[e._v("Questões")])]),a("b-col",{staticStyle:{"text-align":"right"}},[a("b-button",{staticClass:"fecharModal",attrs:{variant:"info"},on:{click:r}},[e._v("x")])],1)]}},{key:"modal-footer",fn:function(t){var r=t.close;return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.addQuestao()}}},[e._v("+")]),a("b-button",{attrs:{variant:"primary"},on:{click:r}},[e._v("Guardar")])]}}])},[["Quizz"==e.form.tipo?a("b-form",{staticClass:"quizz"},e._l(e.form.questoes,(function(t,r){return a("div",{key:r,staticClass:"mb-3"},[a("b-form-group",{attrs:{label:r+1+"ª Pergunta:","label-for":"pergunta"}},[a("b-form-input",{staticClass:"pergunta",attrs:{placeholder:"Pergunta",required:""},model:{value:t.pergunta,callback:function(a){e.$set(t,"pergunta",a)},expression:"questao.pergunta"}})],1),a("b-row",{staticClass:"mt-2",attrs:{"align-h":"between"}},e._l(t.alternativas,(function(o,n){return a("b-col",{key:n,staticClass:"alternativas",attrs:{cols:"6"}},[a("b-form-group",{staticClass:"alternativa",attrs:{label:"Alternativa "+(n+1)+":","label-for":""+n},scopedSlots:e._u([{key:"default",fn:function(o){var s=o.ariaDescribedby;return[a("b-form-radio",{staticClass:"radionAlternativas",attrs:{name:"respostaPergunta"+r,"aria-describedby":s,value:t.alternativas[n]},model:{value:t.resposta,callback:function(a){e.$set(t,"resposta",a)},expression:"questao.resposta"}}),a("b-form-input",{attrs:{id:""+n,placeholder:"Alternativa "+(n+1),required:""},model:{value:t.alternativas[n],callback:function(a){e.$set(t.alternativas,n,a)},expression:"questao.alternativas[index2]"}})]}}],null,!0)})],1)})),1),r+1<e.form.questoes.length?a("hr"):e._e()],1)})),0):"Preencher"==e.form.tipo?a("b-form",{staticClass:"preencher"},e._l(e.form.questoes,(function(t,r){return a("div",{key:r,staticClass:"mb-3"},[a("b-form-group",{attrs:{label:r+1+"ª Pergunta:","label-for":"pergunta"}},[a("b-form-input",{staticClass:"pergunta",attrs:{placeholder:"Pergunta",required:""},model:{value:t.pergunta,callback:function(a){e.$set(t,"pergunta",a)},expression:"questao.pergunta"}})],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Anexo:","label-for":"anexo"}},[a("b-form-input",{staticClass:"anexo",attrs:{placeholder:"Anexo",type:"url",required:""},model:{value:t.anexo,callback:function(a){e.$set(t,"anexo",a)},expression:"questao.anexo"}})],1)],1),a("b-col",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.tipoAnexo,expression:"questao.tipoAnexo"}],staticClass:"tipoAnexo",attrs:{name:"tipoAnexo",required:""},on:{change:function(a){var r=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"tipoAnexo",a.target.multiple?r:r[0])}}},[a("option",{attrs:{value:"",disabled:""}},[e._v("--Selecione um Tipo--")]),a("option",{attrs:{value:"Imagem"}},[e._v("Imagem")]),a("option",{attrs:{value:"Video"}},[e._v("Video")])])])],1),a("b-form-group",{attrs:{label:"Resposta:","label-for":"pergunta"}},[a("b-form-input",{staticClass:"resposta",attrs:{placeholder:"Resposta",required:""},model:{value:t.resposta,callback:function(a){e.$set(t,"resposta",a)},expression:"questao.resposta"}})],1),r+1<e.form.questoes.length?a("hr"):e._e()],1)})),0):"Lista"==e.form.tipo?a("b-form",{staticClass:"lista"},[a("h3",{staticStyle:{"text-align":"center"}},[e._v("EM MANUTENÇÃO"),a("br"),e._v("(BREVEMENTE DISPONIVEL)")])]):a("h5",[e._v("SELECIONE UM TIPO DE QUESTÃO PRIMEIRO!")])]],2)],1)],1)},W=[],K=(a(4916),a(5306),a(3948),{name:"PaginaJogos",data:function(){return{acaoAdmin:!1,jogoExiste:!1,form:{nome:"",imagem:"",tipo:"",questoes:[]},imagemFilme:!1,filtroTipo:"",jogos:null,message:null,successful:!1,errors:[]}},computed:(0,u.Z)((0,u.Z)({},(0,f.Se)(["getJogos","getJogo","getTipoJogo","isNomeJogoAvalido","getLoggedUser"])),{},{filtroTipoJogo:function(){var e=this;return this.getJogos.filter((function(t){return t.tipo==e.filtroTipo||""==e.filtroTipo}))}}),methods:{getListaJogos:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("getAllJogos");case 3:e.jogos=e.getJogos,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),e.message=t.t0.response&&t.t0.response.data||t.t0.message||t.t0.toString();case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},adicionaJogo:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){var a,r,o,n;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.errors=[],a=!0,t.t0=(0,c.Z)().keys(e.form);case 3:if((t.t1=t.t0()).done){t.next=10;break}if(r=t.t1.value,0!==e.form[r].length){t.next=8;break}return a=!1,t.abrupt("break",10);case 8:t.next=3;break;case 10:if(!a){t.next=27;break}if(!e.isNomeJogoAvalido(e.form.nome)){t.next=26;break}if("Preencher"==e.form.tipo)for(o=0;o<e.form.questoes.length;o++)"Video"==e.form.questoes[o].tipoAnexo&&(e.form.questoes[o].anexo=e.form.questoes[o].anexo.replace("watch?v=","embed/"));return n={nome:e.form.nome,img:e.form.imagem,tipo:e.form.tipo,perguntas:e.form.questoes,classificacao:[]},t.prev=14,t.next=17,e.$store.dispatch("novoJogo",n);case 17:e.$router.push({name:"jogo",params:{jogoID:e.getJogo}}),e.getListaJogos(),t.next=24;break;case 21:t.prev=21,t.t2=t["catch"](14),e.message=t.t2.response&&t.t2.response.data||t.t2.message||t.t2.toString();case 24:t.next=27;break;case 26:e.errors.push("Já tem um jogo com esse nome");case 27:case"end":return t.stop()}}),t,null,[[14,21]])})))()},removerJogo:function(e){var t=this;return(0,l.Z)((0,c.Z)().mark((function a(){return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!confirm("Tens acerteza que queres remover este jogo?")){a.next=10;break}return a.prev=1,a.next=4,t.$store.dispatch("eliminarJogo",e);case 4:t.getListaJogos(),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](1),t.message=a.t0.response&&a.t0.response.data||a.t0.message||a.t0.toString();case 10:case"end":return a.stop()}}),a,null,[[1,7]])})))()},classificacao:function(e){this.$router.push({name:"classificacao",params:{jogoID:e}})},selecionarJogo:function(e){this.$router.push({name:"jogo",params:{jogoID:e}})},addImagem:function(){this.form.imagem.length>0&&(this.imagemFilme=!0,this.$refs["fotoModal"].hide())},questoesJogo:function(){0===this.form.questoes.length&&this.addQuestao(),this.$refs["questoesJogo"].show()},addQuestao:function(){"Quizz"==this.form.tipo?this.form.questoes.push({pergunta:"",alternativas:["","","",""],resposta:""}):"Preencher"==this.form.tipo&&this.form.questoes.push({pergunta:"",anexo:"",tipoAnexo:"",resposta:""})}},mounted:function(){this.getListaJogos()}}),ee=K,te=(0,b.Z)(ee,X,W,!1,null,"7d33f020",null),ae=te.exports,re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-container",[a("h1",[e._v(e._s(e.jogo.nome))]),"Quizz"==e.jogo.tipo?a("div",e._l(e.jogo.perguntas,(function(t,r){return a("div",{key:r,staticClass:"jogo quizz"},[a("b-row",{attrs:{"align-h":"center"}},[a("b-col",{staticClass:"pergunta",attrs:{cols:"10"}},[a("p",[e._v(e._s(t.pergunta))])])],1),a("b-row",{attrs:{"align-h":"around"}},e._l(t.alternativas,(function(t,o){return a("b-col",{key:o,staticClass:"alternativas",attrs:{cols:"4"}},[a("b-button",{staticClass:"botao botaoJogo",class:e.respostasUtilizador[r]==t?"selecionada":"naoSelecionada",attrs:{variant:"outline-dark"},on:{click:function(a){return e.selecionar(t,r)}}},[e._v(e._s(t))])],1)})),1)],1)})),0):e._e(),"Preencher"==e.jogo.tipo?a("div",{attrs:{id:"preencher"}},e._l(e.jogo.perguntas,(function(t,r){return a("div",{key:r,staticClass:"jogo"},[a("h2",[e._v(e._s(t.pergunta))]),a("div",["Imagem"==t.tipoAnexo?a("img",{staticClass:"anexoJogo",attrs:{src:t.anexo,height:"350"}}):a("iframe",{staticClass:"anexoJogo",attrs:{width:"560",height:"315",src:t.anexo,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]),a("div",[a("b-form-input",{staticClass:"respostas",attrs:{placeholder:"Sua resposta",required:""},model:{value:e.respostasUtilizador[r],callback:function(t){e.$set(e.respostasUtilizador,r,t)},expression:"respostasUtilizador[index]"}})],1)])})),0):e._e(),"Lista"==e.jogo.tipo?a("div",[a("div",{staticClass:"jogo"},[a("h2",[e._v(e._s(e.jogo.perguntas[0].pergunta))]),a("div",["Imagem"==e.jogo.perguntas[0].tipoAnexo?a("img",{staticClass:"anexoJogo",attrs:{src:e.jogo.perguntas[0].anexo,height:"350"}}):a("iframe",{staticClass:"anexoJogo",attrs:{width:"560",height:"315",src:e.jogo.perguntas[0].anexo,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]),a("div",[a("b-form-input",{staticClass:"respostas",attrs:{placeholder:"Sua resposta"},on:{change:function(t){return e.verificarRespostaLista()}},model:{value:e.respostasUtilizadorLista,callback:function(t){e.respostasUtilizadorLista=t},expression:"respostasUtilizadorLista"}})],1),a("div",[a("b-row",{attrs:{"align-h":"center",id:"jogoListaTabela"}},e._l(e.jogo.perguntas[0].resposta,(function(t,r){return a("b-col",{key:r,staticClass:"respostaLista",attrs:{cols:"5"}},[t==e.respostasUtilizador[r]?a("span",[e._v(e._s(t))]):e._e()])})),1)],1)])]):e._e(),a("b-row",[a("b-button",{staticClass:"botao",attrs:{id:"terminarQuizz"},on:{click:function(t){return e.terminar(e.jogo._id)}}},[e._v("TERMINAR QUIZZ")])],1)],1)],1)},oe=[],ne={name:"PaginaJogo",data:function(){return{jogo:null,respostasUtilizador:[],respostasUtilizadorLista:"",certas:0,loggedUtilizador:null}},computed:(0,u.Z)({},(0,f.Se)(["getLoggedUser","getJogos","getJogo","getDesafios","getUtilizador"])),methods:(0,u.Z)((0,u.Z)({},(0,f.OI)(["SET_NOVA_CLASSIFICACAO","SET_DESAFIO"])),{},{getJogoInfo:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("getJogo",e.$route.params.jogoID);case 3:return t.next=5,e.getJogo.jogo;case 5:e.jogo=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.message=t.t0.response&&t.t0.response.data||t.t0.message||t.t0.toString();case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},terminar:function(e){var t=this;return(0,l.Z)((0,c.Z)().mark((function a(){var r,o,n,s,i;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=0,"Lista"!=t.jogo.tipo)for(o=0;o<t.jogo.perguntas.length;o++)t.jogo.perguntas[o].resposta==t.respostasUtilizador[o]&&t.certas++,r++;else for(n=0;n<t.jogo.perguntas[0].resposta.length;n++)t.jogo.perguntas[0].resposta[n]==t.respostasUtilizador[n]&&t.certas++,r++;return s=25*t.certas,i={utilizadorID:t.getLoggedUser.id,pontuacao:s},a.prev=4,a.next=7,t.$store.dispatch("addClassificacao",[t.jogo._id,i]);case 7:return a.next=9,t.$store.dispatch("addDesafio",[t.getLoggedUser.id,t.jogo._id]);case 9:return a.next=11,t.$store.dispatch("getAllDesafios");case 11:return a.next=13,t.$store.dispatch("addDesafioConcluido",[t.loggedUtilizador,t.getDesafios]);case 13:t.$router.push({name:"classificacao",params:{jogoID:e,certas:t.certas,numPerguntas:r}}),a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](4),t.message=a.t0.response&&a.t0.response.data||a.t0.message||a.t0.toString();case 19:case"end":return a.stop()}}),a,null,[[4,16]])})))()},getLoggedUserInfo:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){var a;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getLoggedUser;case 3:return a=t.sent,t.next=6,e.$store.dispatch("getUtilizador",a.id);case 6:return t.next=8,e.getUtilizador;case 8:e.loggedUtilizador=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),e.message=t.t0.response&&t.t0.response.data||t.t0.message||t.t0.toString();case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},selecionar:function(e,t){this.respostasUtilizador[t]=e,this.$forceUpdate()},verificarRespostaLista:function(){for(var e=0;e<this.jogo.perguntas[0].resposta.length;e++)this.jogo.perguntas[0].resposta[e]==this.respostasUtilizadorLista&&(this.respostasUtilizador[e]=this.respostasUtilizadorLista,this.$forceUpdate())}}),mounted:function(){this.getJogoInfo(),this.getLoggedUserInfo()}},se=ne,ie=(0,b.Z)(se,re,oe,!1,null,"1df2e926",null),ce=ie.exports,le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"body"},[a("h1",[e._v(e._s(e.jogo.nome))]),e.numPerguntas>0?a("h2",[e._v(e._s(e.certas)+" respostas certas em "+e._s(e.numPerguntas)+" ")]):e._e(),a("h3",[e._v("Tabela de Classificação")]),e.classificacao.length>0?a("table",[e._m(0),a("tbody",e._l(e.classificacao,(function(t,r){return a("tr",{key:r},[a("td",{staticClass:"posicao"},[e._v(e._s(r+1))]),a("td",{staticClass:"nome"},[a("img",{staticClass:"img",attrs:{src:e.utilizadoresFoto[r]}}),e._v(" "+e._s(e.utilizadoresNome[r]))]),a("td",{staticClass:"pontuacao"},[e._v(e._s(t.pontuacao)+"pts")])])})),0)]):a("div",{attrs:{id:"tabelaSemClassificacao"}},[a("p",[e._v("Ainda não tem nenhuma classificação")]),a("p",[e._v("Seja o primeiro a jogar e ter a sua classificacao aqui")]),a("b-button",{attrs:{id:"botaoJogar"},on:{click:function(t){return e.jogar()}}},[e._v("Jogar")])],1)])},ue=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("POSIÇÃO")]),a("th",{staticClass:"nome"},[e._v("NOME")]),a("th",[e._v("PONTUAÇÃO")])])])}],de={name:"ClassificacaoJogo",data:function(){return{jogo:{},certas:0,utilizadoresFoto:[],utilizadoresNome:[],message:""}},created:function(){var e=this;this.jogo=this.getJogos.find((function(t){return t.nome==e.$route.params.jogoNome})),this.certas=this.$route.params.certas,this.numPerguntas=this.$route.params.numPerguntas},computed:(0,u.Z)((0,u.Z)({},(0,f.Se)(["getUtilizador","getJogos","getJogo"])),{},{classificacao:function(){var e,t=this.jogo.classificacao.slice(0).sort(this.ordenarClassificacao),a=(0,D.Z)(t.slice(0,5));try{for(a.s();!(e=a.n()).done;){var r=e.value;this.utilizadoresClassificacao(r.utilizador)}}catch(o){a.e(o)}finally{a.f()}return t.slice(0,5)}}),methods:(0,u.Z)((0,u.Z)({},(0,f.OI)(["SET_JOGO_ATUAL"])),{},{getJogoClassificacao:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("getClassificacao",e.$route.params.jogoID);case 3:return t.next=5,e.getJogo;case 5:e.jogo=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.message=t.t0.response&&t.t0.response.data||t.t0.message||t.t0.toString();case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},ordenarClassificacao:function(e,t){return e.pontuacao<t.pontuacao?1:e.pontuacao>t.pontuacao?-1:0},utilizadoresClassificacao:function(e){var t=this;return(0,l.Z)((0,c.Z)().mark((function a(){var r;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$store.dispatch("getUtilizador",e);case 3:return a.next=5,t.getUtilizador;case 5:r=a.sent,t.utilizadoresFoto.push(r.foto),t.utilizadoresNome.push(r.nome),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](0),t.message=a.t0.response&&a.t0.response.data||a.t0.message||a.t0.toString();case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()},jogar:function(){this.$router.push({name:"jogo",params:{jogoID:this.jogo._id}})}}),mounted:function(){this.getJogoClassificacao()}},me=de,fe=(0,b.Z)(me,le,ue,!1,null,"3cab63a6",null),pe=fe.exports,ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-row",{staticClass:"imagemUtilizador"},[r("img",{attrs:{src:e.loggedUtilizador.foto,id:"imgPerfil"}}),r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.editarPerfilModal",modifiers:{editarPerfilModal:!0}}],attrs:{variant:"warning",id:"editarPerfil"}},[r("b-icon",{attrs:{icon:"pencil-square"}})],1)],1),r("b-row",[r("b-col",{attrs:{id:"utilizador",cols:"4"}},[r("span",{attrs:{id:"nomeUtilizador"}},[e._v(e._s(e.loggedUtilizador.nome))])])],1),r("b-row",[r("div",{attrs:{id:"listasUtilizador"}},[r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.listaFavoritos",modifiers:{listaFavoritos:!0}}],staticClass:"botoes",attrs:{variant:"info"}},[r("b-icon",{attrs:{icon:"heart-fill"}}),e._v(" Favoritos ")],1),r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.listaMeusFilmes",modifiers:{listaMeusFilmes:!0}}],staticClass:"botoes",attrs:{variant:"info"}},[r("b-icon",{attrs:{icon:"play-fill"}}),e._v(" A minha lista ")],1),"admin"==e.loggedUtilizador.tipo?r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.utilizadoresModal",modifiers:{utilizadoresModal:!0}}],staticClass:"botoes",attrs:{variant:"info"}},[r("b-icon",{attrs:{icon:"person-fill"}}),e._v(" Utilizadores ")],1):e._e()],1)]),r("b-row",[r("b-col",{attrs:{cols:"8"}},[r("span",{attrs:{id:"desafios"}},[e._v("Desafios")]),r("img",{attrs:{src:a(829),id:"vetor1"}}),r("span",{attrs:{id:"badges"}},[e._v("Badges")]),r("img",{attrs:{src:a(829),id:"vetor2"}})])],1),r("b-row",{attrs:{"align-h":"around"}},[r("b-col",{attrs:{cols:"6"}},[r("div",{attrs:{id:"divDesafios"}},["admin"==e.loggedUtilizador.tipo?r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.adicionarDesafio",modifiers:{adicionarDesafio:!0}}],attrs:{id:"adicionarDesafio"}},[e._v(" ADICIONAR")]):e._e(),e._l(e.desafios,(function(t,a){return r("div",{key:a,staticClass:"desafio"},[r("span",[e._v(e._s(t.nome))]),r("b-progress",{attrs:{value:e.progressoDesafio,max:t.nEtapas,"show-value":"",animated:""}})],1)}))],2)]),r("b-col",{attrs:{cols:"6"}},[r("div",{attrs:{id:"divBadges"}},e._l(e.badges,(function(t,a){return r("div",{key:a,staticClass:"badge"},[r("div",[r("img",{attrs:{src:t.imagem,alt:"",width:"35px"}})]),r("span",[e._v(e._s(t.nome))])])})),0)])],1),r("b-modal",{ref:"editarPerfilModal",attrs:{id:"editarPerfilModal",centered:"","header-bg-variant":"info","header-text-variant":"light","body-bg-variant":"light","footer-bg-variant":"light"},scopedSlots:e._u([{key:"modal-header",fn:function(t){var a=t.close;return[r("h4",{staticClass:"modalTitulo"},[e._v("Editar Perfil")]),r("b-button",{staticClass:"fecharModal",attrs:{variant:"info"},on:{click:a}},[e._v("x")])]}},{key:"modal-footer",fn:function(){return[r("b-button",{on:{click:e.editarPerfil}},[e._v("Aceitar Alterações")])]},proxy:!0}])},[[r("div",{staticClass:"bodyModal"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.editarPerfil.apply(null,arguments)}}},[r("div",[r("div",{staticClass:"inputsEditarPerfil"},[r("label",{attrs:{for:"urlFotoJogo"}},[e._v("Nova Foto : ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.imagemNova,expression:"form.imagemNova"}],attrs:{type:"url",width:"40vw",height:"30vh"},domProps:{value:e.form.imagemNova},on:{input:function(t){t.target.composing||e.$set(e.form,"imagemNova",t.target.value)}}})]),r("div",{staticClass:"inputsEditarPerfil"},[r("label",{attrs:{for:"novaPalavraPasse"}},[e._v("Nova Palavra Passe : ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.novaPalavraPasse,expression:"form.novaPalavraPasse"}],attrs:{type:"password",id:"novaPalavraPasse"},domProps:{value:e.form.novaPalavraPasse},on:{input:function(t){t.target.composing||e.$set(e.form,"novaPalavraPasse",t.target.value)}}})])])])])]],2),r("b-modal",{attrs:{id:"listaFavoritos",centered:"",size:"lg","header-bg-variant":"info","header-text-variant":"light","body-bg-variant":"light","footer-bg-variant":"light",scrollable:""},scopedSlots:e._u([{key:"modal-header",fn:function(t){var a=t.close;return[r("h4",{staticClass:"modalTitulo"},[e._v("Favoritos")]),r("b-button",{staticClass:"fecharModal",attrs:{variant:"info"},on:{click:a}},[e._v("x")])]}},{key:"modal-footer",fn:function(t){var a=t.close;return[r("b-button",{on:{click:function(e){return a()}}},[e._v("Fechar")])]}}])},[[e.loggedUtilizador.favoritos.length>0?r("div",e._l(e.loggedUtilizador.favoritos,(function(t,a){return r("img",{key:a,staticClass:"imagemLista",attrs:{src:e.filmeImagem(t),alt:"",width:"150"},on:{click:function(a){return e.escolherFilme(t)}}})})),0):r("div",{staticClass:"textoModal"},[r("p",[e._v("Ainda não tens nenhum filme na tua lista de favoritos")]),r("p",[e._v("Vai ao "),r("router-link",{staticClass:"link",attrs:{to:{name:"filmes"}}},[e._v("Catálolo")]),e._v(" e adiciona o teu primeiro filme!")],1)])]],2),r("b-modal",{attrs:{id:"listaMeusFilmes",centered:"",size:"lg","header-bg-variant":"info","header-text-variant":"light","body-bg-variant":"light","footer-bg-variant":"light",scrollable:""},scopedSlots:e._u([{key:"modal-header",fn:function(t){var a=t.close;return[r("h4",{staticClass:"modalTitulo"},[e._v("Meus Filmes")]),r("b-button",{staticClass:"fecharModal",attrs:{variant:"info"},on:{click:a}},[e._v("x")])]}},{key:"modal-footer",fn:function(t){var a=t.close;return[r("b-button",{on:{click:function(e){return a()}}},[e._v("Fechar")])]}}])},[[e.loggedUtilizador.lista.length>0?r("div",e._l(e.loggedUtilizador.lista,(function(t,a){return r("img",{key:a,staticClass:"imagemLista",attrs:{src:e.filmeImagem(t),alt:"",width:"150"},on:{click:function(a){return e.escolherFilme(t)}}})})),0):r("div",{staticClass:"textoModal"},[r("p",[e._v("Ainda não tens nenhum filme na tua lista de filmes")]),r("p",[e._v("Vai ao "),r("router-link",{staticClass:"link",attrs:{to:{name:"filmes"}}},[e._v("Catálolo")]),e._v(" e adiciona o teu primeiro filme!")],1)])]],2),r("b-modal",{attrs:{id:"utilizadoresModal",centered:"","header-bg-variant":"info","header-text-variant":"light","body-bg-variant":"light","footer-bg-variant":"light",scrollable:""},scopedSlots:e._u([{key:"modal-header",fn:function(t){var a=t.close;return[r("h4",{staticClass:"modalTitulo"},[e._v("Utilizadores")]),r("b-button",{staticClass:"fecharModal",attrs:{variant:"info"},on:{click:a}},[e._v("x")])]}},{key:"modal-footer",fn:function(t){var a=t.close;return[r("b-button",{on:{click:function(e){return a()}}},[e._v("Fechar")])]}}])},[[r("b-col",{attrs:{id:"inputGerirUtilizador",cols:"5"}},[r("b-form-input",{attrs:{placeholder:"Nome de utilizador"},model:{value:e.nomeUtilizador,callback:function(t){e.nomeUtilizador=t},expression:"nomeUtilizador"}})],1),e._l(e.utilizadores,(function(t,a){return r("div",{key:a},[t.nome!=e.loggedUtilizador.nome?r("b-row",{staticClass:"utilizadores"},[r("b-col",{staticClass:"nomeUtilizadores"},[e._v(e._s(t.nome))]),r("b-col",[r("b-button",{staticClass:"botaoEditarUtilizador tipoUtilizadores",on:{click:function(a){return e.mudarTipo(t._id)}}},[e._v(" "+e._s(t.tipo))])],1),r("b-col",[r("b-button",{staticClass:"botaoEditarUtilizador removerUtilizadores",on:{click:function(a){return e.removerUtilizador(t._id)}}},[e._v("Remover")])],1)],1):e._e()],1)}))]],2),r("b-modal",{ref:"adicionarDesafio",attrs:{id:"adicionarDesafio",centered:"","header-bg-variant":"info","header-text-variant":"light","body-bg-variant":"light","footer-bg-variant":"light"},scopedSlots:e._u([{key:"modal-header",fn:function(t){var a=t.close;return[r("h4",{staticClass:"modalTitulo"},[e._v("Adicionar Desafios")]),r("b-button",{staticClass:"fecharModal",attrs:{variant:"info"},on:{click:a}},[e._v("x")])]}},{key:"modal-footer",fn:function(){return[r("b-button",{on:{click:function(t){return e.adicionarDesafio()}}},[e._v("Adicionar")])]},proxy:!0}])},[[r("form",{on:{submit:function(t){return t.preventDefault(),e.adicionarDesafio.apply(null,arguments)}}},[r("div",[r("b-form-group",{staticClass:"mb-3",attrs:{label:"Nome do desafio:","label-for":"nomeDesafio"}},[r("b-form-input",{attrs:{id:"nomeDesafio",type:"text",placeholder:"Nome do desafio",required:""},model:{value:e.formDesafios.nome,callback:function(t){e.$set(e.formDesafios,"nome",t)},expression:"formDesafios.nome"}})],1),r("b-form-group",{staticClass:"mb-3",attrs:{label:"Numero de etapas:","label-for":"numEtapas"}},[r("b-form-input",{attrs:{id:"numEtapas",type:"number",placeholder:"Numero de etapas",required:""},model:{value:e.formDesafios.nEtapas,callback:function(t){e.$set(e.formDesafios,"nEtapas",t)},expression:"formDesafios.nEtapas"}})],1),r("b-form-group",{staticClass:"mb-3",attrs:{label:"Anexo:","label-for":"anexoDesafio"}},[r("b-form-input",{attrs:{id:"anexoDesafio",type:"url",placeholder:"Anexo",required:""},model:{value:e.formDesafios.anexo,callback:function(t){e.$set(e.formDesafios,"anexo",t)},expression:"formDesafios.anexo"}})],1)],1)]),e.message?r("div",{staticClass:"alert",class:e.successful?"alert-success":"alert-danger"},[e._v(" "+e._s(e.message)+" ")]):e._e(),e.errors.length?r("p",[r("b",[e._v("Por favor corrija os seguintes erros:")]),r("ul",e._l(e.errors,(function(t,a){return r("li",{key:a},[e._v(e._s(t))])})),0)]):e._e()]],2)],1)},ve=[],he={name:"PaginaPerfil",data:function(){return{form:{imagemNova:"",novaPalavraPasse:""},formDesafios:{nome:"",nEtapas:0,anexo:""},nomeUtilizador:"",loggedUtilizador:null,utilizadoresLista:null,desafiosLista:null,desafiosConcluidosLista:[],errors:[],message:""}},computed:(0,u.Z)((0,u.Z)({},(0,f.Se)(["getLoggedUser","getUtilizador","getUtilizadores","getDesafios","isDesafioAvailable","getFilmes"])),{},{desafios:function(){var e=this,t=this.desafiosLista.filter((function(t){return t.nEtapas>e.loggedUtilizador.desafios.length})).slice(0).sort(this.ordenarDesfios);return t=t.slice(0,5),t},progressoDesafio:function(){return this.loggedUtilizador.desafios.length},badges:function(){var e=this,t=this.desafiosLista.filter((function(t){return t._id==e.loggedUtilizador.desafiosConcluidos})).slice(0).sort(this.ordenarDesfios);return t},utilizadores:function(){var e=this;return this.utilizadoresLista.filter((function(t){return(t.nome.includes(e.nomeUtilizador)||""==e.nomeUtilizador)&&t.nome!=e.loggedUtilizador.nome})).slice(0)}}),methods:{getLoggedUserInfo:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){var a;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getLoggedUser;case 3:return a=t.sent,t.next=6,e.$store.dispatch("getUtilizador",a.id);case 6:return t.next=8,e.getUtilizador;case 8:e.loggedUtilizador=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),e.message=t.t0.response&&t.t0.response.data||t.t0.message||t.t0.toString();case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},getAllUtilizadores:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("getAllUtilizadores");case 3:e.utilizadoresLista=e.getUtilizadores,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),e.message=t.t0.response&&t.t0.response.data||t.t0.message||t.t0.toString();case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},removerUtilizador:function(e){var t=this;return(0,l.Z)((0,c.Z)().mark((function a(){return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!confirm("Tens acerteza que queres eliminar esta utilizador?")){a.next=10;break}return a.prev=1,a.next=4,t.$store.dispatch("eliminarUtilizador",e);case 4:t.getAllUtilizadores(),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](1),t.message=a.t0.response&&a.t0.response.data||a.t0.message||a.t0.toString();case 10:case"end":return a.stop()}}),a,null,[[1,7]])})))()},getDesafiosLista:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("getAllDesafios");case 3:e.desafiosLista=e.getDesafios,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),e.message=t.t0.response&&t.t0.response.data||t.t0.message||t.t0.toString();case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},adicionarDesafio:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){var a,r,o;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.message="",e.errors=[],a=!0,t.t0=(0,c.Z)().keys(e.formDesafio);case 4:if((t.t1=t.t0()).done){t.next=11;break}if(r=t.t1.value,0!=e.formDesafio[r].length){t.next=9;break}return a=!1,t.abrupt("break",11);case 9:t.next=4;break;case 11:if(console.log(a),!a){t.next=29;break}if(!e.isDesafioAvailable(e.formDesafios.nome)){t.next=26;break}return o={nome:e.formDesafios.nome,nEtapas:e.formDesafios.nEtapas,anexo:e.formDesafios.anexo},t.prev=15,t.next=18,e.$store.dispatch("adicionarDesafio",o);case 18:e.getDesafiosLista(),t.next=24;break;case 21:t.prev=21,t.t2=t["catch"](15),e.message=t.t2.response&&t.t2.response.data||t.t2.message||t.t2.toString();case 24:t.next=27;break;case 26:e.errors.push("Já tem um desafio com esse nome!");case 27:t.next=30;break;case 29:e.errors.push("Dados em falta ou invalidos, volta a confimar!");case 30:case"end":return t.stop()}}),t,null,[[15,21]])})))()},editarPerfil:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""==e.form.novaPalavraPasse){t.next=10;break}return t.prev=1,e.loggedUtilizador.palavra_passe=e.form.novaPalavraPasse,t.next=5,e.$store.dispatch("updateUtilizador",[e.loggedUtilizador._id,e.loggedUtilizador]);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),e.message=t.t0.response&&t.t0.response.data||t.t0.message||t.t0.toString();case 10:if(""==e.form.imagemNova){t.next=20;break}return t.prev=11,e.loggedUtilizador.foto=e.form.imagemNova,t.next=15,e.$store.dispatch("updateUtilizador",[e.loggedUtilizador._id,e.loggedUtilizador]);case 15:t.next=20;break;case 17:t.prev=17,t.t1=t["catch"](11),e.message=t.t1.response&&t.t1.response.data||t.t1.message||t.t1.toString();case 20:e.$refs["editarPerfilModal"].hide();case 21:case"end":return t.stop()}}),t,null,[[1,7],[11,17]])})))()},mudarTipo:function(e){var t=this;return(0,l.Z)((0,c.Z)().mark((function a(){var r;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.utilizadoresLista.find((function(t){return t._id==e})),r.tipo="admin"==r.tipo?"utilizador":"admin",a.prev=2,a.next=5,t.$store.dispatch("updateUtilizador",[e,r]);case 5:a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](2),t.message=a.t0.response&&a.t0.response.data||a.t0.message||a.t0.toString();case 10:case"end":return a.stop()}}),a,null,[[2,7]])})))()},getListaFilmes:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("getAllFilmes");case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),e.message=t.t0.response&&t.t0.response.data||t.t0.message||t.t0.toString();case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},ordenarDesfios:function(e,t){return e.nEtapas<t.nEtapas?-1:e.nEtapas>t.nEtapas?1:0},filmeImagem:function(e){return this.getFilmes.find((function(t){return t._id==e})).imagem},escolherFilme:function(e){this.$router.push({name:"filme",params:{filmeID:e}})}},mounted:function(){this.getLoggedUserInfo(),this.getDesafiosLista(),this.getAllUtilizadores(),this.getListaFilmes()}},be=he,_e=(0,b.Z)(be,ge,ve,!1,null,"6bb463da",null),xe=_e.exports,ke=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},we=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"sobreNosDiv"}},[a("h1",[e._v("SOBRE NÓS")]),a("br"),a("h2",[e._v("Como surgiu a Lumière?")]),a("p",[e._v("No âmbito de Projeto II, unidade curricular da licenciatura de TSIW, foi proposto criar um site que te fosse trazer um ambiente para amantes do cinema. Assim, criamos a Lumière para que qualquer cinéfilo, como tu, poder conhecer novos filmes/séries, avaliar os mesmos e mostrar os teus conhecimentos nos jogos, enquanto ganhas medalhas e a possibilidadde de estar nos tops das tabelas de classificação.")]),a("br"),a("h2",[e._v("Porque Lumière?")]),a("p",[e._v("Em homenagem aos pais do cinema, Auguste e Louis Lumière, decidimos nomear o site pois estes marcam o inicio deste teu grande gosto.")]),a("br"),a("h2",[e._v("Mas, afinal, o que posso fazer aqui?")]),a("p",[e._v("Aqui podes encontrar novos filmes e séries, podes encontrar os teus filmes e séries favoritos e dizer o que achas aos outros utilizadores, ou então, joga e mostra os teus conhecimentos enquanto te divertes neste ambiente para amantes desta arte.")]),a("br"),a("p",{attrs:{id:"txtFinal"}},[e._v("Assim, esperamos que te divirtas neste espaço criado pensado em ti, pequeno cinéfilo, e que este ambiente te enalteça o que sentes pelo cinema. Diverte-te,")]),a("br"),a("p",{attrs:{id:"assinatura"}},[e._v("Paulo, Sofia e Inês")])])}],Se={},Ee=Se,Ze=(0,b.Z)(Ee,ke,we,!1,null,"36e3bed6",null),Ce=Ze.exports,ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-container",{attrs:{fluid:""}},[a("h1",[e._v("Adicionar Novo Filme")]),a("form",{on:{submit:function(t){return t.preventDefault(),e.adicionarFilme.apply(null,arguments)}}},[a("div",[a("b-form-input",{attrs:{id:"nomeFilme",placeholder:"Nome do Filme/Serie"},model:{value:e.form.nome,callback:function(t){e.$set(e.form,"nome",t)},expression:"form.nome"}})],1),a("div",{attrs:{id:"imgFilme"}},[""==e.form.imagem?a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"ficheirosModalPoster",expression:"'ficheirosModalPoster'"}],staticClass:"imgFilme"},[e._v("Poster do Filme +")]):a("img",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"ficheirosModalPoster",expression:"'ficheirosModalPoster'"}],staticClass:"imgFilme",attrs:{type:"image",src:e.form.imagem,alt:"poster do filme"}})],1),a("div",{attrs:{id:"trailer"}},[""==e.form.trailer?a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"ficheirosModalTrailer",expression:"'ficheirosModalTrailer'"}],staticClass:"trailer"},[e._v("Trailer do Filme +")]):a("div",{staticClass:"trailer"},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"ficheirosModalTrailer",expression:"'ficheirosModalTrailer'"}],attrs:{id:"trocarTrailer"}},[a("b-icon",{attrs:{icon:"arrow-left-right","aria-hidden":"true"}})],1),a("iframe",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"ficheirosModalTrailer",expression:"'ficheirosModalTrailer'"}],attrs:{width:"560",height:"315",src:e.form.trailer,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})],1)],1),a("b-col",{attrs:{cols:"7"}},[a("div",{staticClass:"infoFilme"},[a("p",[a("span",[e._v("Sinopse: ")]),a("b-form-textarea",{attrs:{id:"textareaSinopse",placeholder:"Sinopse do Filme/Serie",rows:"5"},model:{value:e.form.sinopse,callback:function(t){e.$set(e.form,"sinopse",t)},expression:"form.sinopse"}})],1),a("b-row",[a("b-col",{attrs:{cols:"2"}},[a("p",[a("span",[e._v("Ano: ")])]),a("p",[a("span",[e._v("Realizador: ")])]),a("p",[a("span",[e._v("Produtora: ")])]),a("p",[a("span",[e._v("Elenco: ")])]),a("p",[a("span",[e._v("Género: ")])]),a("p",[a("span",[e._v("Tipo: ")])]),a("p",[a("span",[e._v("Classificações: ")])])]),a("b-col",{attrs:{cols:"10",id:"inputsInfFilme"}},[a("div",[a("b-form-input",{attrs:{id:"anoFilme",type:"number",min:"1895",placeholder:"Ano de lançamento"},model:{value:e.form.ano,callback:function(t){e.$set(e.form,"ano",t)},expression:"form.ano"}})],1),a("div",[a("b-form-input",{attrs:{id:"realizadorFilme",placeholder:"Realizador (ex:realizador1,realizador2,...)"},model:{value:e.form.realizador,callback:function(t){e.$set(e.form,"realizador",t)},expression:"form.realizador"}})],1),a("div",[a("b-form-input",{attrs:{id:"produtoraFilme",placeholder:"Produtora"},model:{value:e.form.produtora,callback:function(t){e.$set(e.form,"produtora",t)},expression:"form.produtora"}})],1),a("div",[a("b-form-input",{attrs:{id:"elencoFilme",placeholder:"Elenco (ex:ator1,ator2,...)"},model:{value:e.form.elenco,callback:function(t){e.$set(e.form,"elenco",t)},expression:"form.elenco"}})],1),a("div",[e._l(e.form.categorias,(function(t,r){return a("span",{key:r,staticClass:"categoriaFilme"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.categorias[r],expression:"form.categorias[index]"}],attrs:{name:"selCategoriaFilme",id:"selCategoriaFilme"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form.categorias,r,t.target.multiple?a:a[0])},e.novaCategoriaModal]}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[e._v("Género Filme")]),e._l(e.categoriasOrdenadas,(function(t,r){return a("option",{key:r,domProps:{value:t.categoria}},[e._v(e._s(t.categoria))])})),a("option",{attrs:{value:"Outros"}},[e._v("Outros")])],2),e.form.categorias.length>1&&e.form.categorias.length==r+1?a("b-button",{staticClass:"menosCategoria",attrs:{variant:"outline"},on:{click:function(t){return e.form.categorias.pop()}}},[e._v("x")]):e._e()],1)})),e.form.categorias.length<3?a("b-button",{attrs:{id:"addCategoriaId"},on:{click:e.addCategoria}},[e._v("+")]):e._e()],2),a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.tipo,expression:"form.tipo"}],attrs:{name:"selTipoFilme",id:"selTipoFilme"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"tipo",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[e._v("Tipo Filme")]),a("option",{attrs:{value:"Filme"}},[e._v("Filme")]),a("option",{attrs:{value:"Serie"}},[e._v("Serie")])])]),a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.classificacao,expression:"form.classificacao"}],attrs:{name:"selClassificacaoFilme",id:"selClassificacaoFilme"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"classificacao",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[e._v("Classificação do Filme")]),a("option",{attrs:{value:"M/3"}},[e._v("M/3")]),a("option",{attrs:{value:"M/6"}},[e._v("M/6")]),a("option",{attrs:{value:"M/12"}},[e._v("M/12")]),a("option",{attrs:{value:"M/14"}},[e._v("M/14")]),a("option",{attrs:{value:"M/16"}},[e._v("M/16")]),a("option",{attrs:{value:"M/18"}},[e._v("M/18")])])])])],1)],1)]),a("input",{attrs:{id:"btnAdicionarFilme",type:"submit",value:"Adicionar Filme"}})],1),a("b-modal",{ref:"novaCategoriaModal",attrs:{id:"novaCategoriaModal",size:"sm","header-bg-variant":"info","body-bg-variant":"light","footer-bg-variant":"light","ok-only":""},scopedSlots:e._u([{key:"modal-header",fn:function(t){var r=t.close;return[a("h4",{staticClass:"modalTitulo"},[e._v("Nova Categoria")]),a("b-button",{staticClass:"fecharModal",attrs:{variant:"info"},on:{click:r}},[e._v("x")])]}},{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"primary"},on:{click:e.NovaCategoria}},[e._v("Guardar")])]},proxy:!0}])},[[a("label",{attrs:{for:"novaCategoria"}},[e._v("Nova Categoria")]),a("b-form-input",{attrs:{id:"novaCategoria",type:"text"},model:{value:e.novaCategoria,callback:function(t){e.novaCategoria=t},expression:"novaCategoria"}}),a("br"),e.message?a("div",{staticClass:"alert",class:e.successful?"alert-success":"alert-danger"},[e._v(" "+e._s(e.message)+" ")]):e._e(),e.erros.length?a("p",[a("ul",e._l(e.erros,(function(t,r){return a("li",{key:r},[e._v(e._s(t))])})),0)]):e._e()]],2),a("b-modal",{attrs:{id:"ficheirosModalPoster","header-bg-variant":"info","body-bg-variant":"light","footer-bg-variant":"light","ok-only":""},scopedSlots:e._u([{key:"modal-header",fn:function(t){var r=t.close;return[a("b-col",{staticClass:"modalTitulo",attrs:{cols:"11"}},[a("h4",[e._v("Poster do Filme")])]),a("b-col",{staticStyle:{"text-align":"right"}},[a("b-button",{staticClass:"fecharModal",attrs:{variant:"info"},on:{click:r}},[e._v("x")])],1)]}},{key:"modal-footer",fn:function(t){var r=t.close;return[a("b-button",{attrs:{variant:"primary"},on:{click:r}},[e._v("Guardar")])]}}])},[[a("label",{attrs:{for:"urlImagemFilme"}},[e._v("URL da imagem")]),a("b-form-input",{staticClass:"mb-2",attrs:{id:"urlImagemFilme",type:"url"},model:{value:e.form.imagem,callback:function(t){e.$set(e.form,"imagem",t)},expression:"form.imagem"}})]],2),a("b-modal",{ref:"ficheirosModalTrailer",attrs:{id:"ficheirosModalTrailer","header-bg-variant":"info","body-bg-variant":"light","footer-bg-variant":"light","ok-only":""},scopedSlots:e._u([{key:"modal-header",fn:function(t){var r=t.close;return[a("b-col",{staticClass:"modalTitulo",attrs:{cols:"11"}},[a("h4",[e._v("Poster do Filme")])]),a("b-col",{staticStyle:{"text-align":"right"}},[a("b-button",{staticClass:"fecharModal",attrs:{variant:"info"},on:{click:r}},[e._v("x")])],1)]}},{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"primary"},on:{click:e.trailerFilme}},[e._v("Guardar")])]},proxy:!0}])},[[a("label",{attrs:{for:"urlTrailerFilme"}},[e._v("URL do trailer")]),a("b-form-input",{attrs:{id:"urlTrailerFilme",type:"url",placeholder:"Link do Youtube"},model:{value:e.trailerURL,callback:function(t){e.trailerURL=t},expression:"trailerURL"}})]],2)],1)],1)},ye=[],Ae=(a(3123),{name:"AdicionarFilme",data:function(){return{form:{nome:"",ano:1895,realizador:"",produtora:"",elenco:"",categorias:[""],tipo:"",imagem:"",trailer:"",sinopse:"",classificacao:""},trailerURL:"",novaCategoria:"",categorias:null,message:null,erros:[]}},computed:(0,u.Z)((0,u.Z)({},(0,f.Se)(["getCategoria","isNomeFilmeAvalido","isCategoriaAvailable","getFilme","getMessage","getFilmes"])),{},{categoriasOrdenadas:function(){return null!==this.categorias?this.categorias.slice(0).sort(this.ordenarAlfabeticaCategoria):""}}),methods:{adicionarFilme:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){var a,r,o,n,s,i,l,u,d;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.message="",a=!0,t.t0=(0,c.Z)().keys(e.form);case 3:if((t.t1=t.t0()).done){t.next=10;break}if(r=t.t1.value,0!==e.form[r].length){t.next=8;break}return a=!1,t.abrupt("break",10);case 8:t.next=3;break;case 10:o=(0,D.Z)(e.form.categorias),t.prev=11,o.s();case 13:if((n=o.n()).done){t.next=20;break}if(s=n.value,0!==s.length&&"Outros"!=s){t.next=18;break}return a=!1,t.abrupt("break",20);case 18:t.next=13;break;case 20:t.next=25;break;case 22:t.prev=22,t.t2=t["catch"](11),o.e(t.t2);case 25:return t.prev=25,o.f(),t.finish(25);case 28:if(!a){t.next=48;break}if(!e.isNomeFilmeAvalido(e.form.nome)){t.next=45;break}return i=e.form.realizador.split(","),l=e.form.elenco.split(","),u=e.form.trailer.replace("watch?v=","embed/"),d={nome:e.form.nome,imagem:e.form.imagem,trailer:u,tipo:e.form.tipo,categoria:e.form.categorias,ano:e.form.ano,realizador:i,produtora:e.form.produtora,elenco:l,sinopse:e.form.sinopse,classificacao:e.form.classificacao,avaliacao:0,nAvaliacoes:0,comentarios:[]},t.prev=34,t.next=37,e.$store.dispatch("novoFilme",d);case 37:e.$router.push({name:"filme",params:{filmeID:e.getFilme}}),t.next=43;break;case 40:t.prev=40,t.t3=t["catch"](34),e.message=t.t3.response&&t.t3.response.data||t.t3.message||t.t3.toString();case 43:t.next=46;break;case 45:alert("Já existe um filme com esse nome");case 46:t.next=49;break;case 48:alert("Dados em falta ou invalidos, volta a confimar!");case 49:case"end":return t.stop()}}),t,null,[[11,22,25,28],[34,40]])})))()},getListaCategorias:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("getAllCategorias");case 3:e.categorias=e.getCategoria,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),e.message=t.t0.response&&t.t0.response.data||t.t0.message||t.t0.toString();case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},NovaCategoria:function(){var e=this;return(0,l.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0==e.novaCategoria.length){t.next=17;break}if(e.message="",e.erros=[],!e.isCategoriaAvailable(e.novaCategoria)){t.next=16;break}return t.prev=4,t.next=7,e.$store.dispatch("adicionarCategoria",e.novaCategoria);case 7:e.getListaCategorias(),e.$refs["novaCategoriaModal"].hide(),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](4),e.message=t.t0.response&&t.t0.response.data||t.t0.message||t.t0.toString();case 14:t.next=17;break;case 16:e.erros.push("Já existe essa categoria na nossa base de dados");case 17:case"end":return t.stop()}}),t,null,[[4,11]])})))()},ordenarAlfabeticaCategoria:function(e,t){return e.categoria<t.categoria?-1:e.categoria>t.categoria?1:0},addCategoria:function(){this.form.categorias.push("")},novaCategoriaModal:function(){this.form.categorias.find((function(e){return"Outros"==e}))&&this.$refs["novaCategoriaModal"].show()},trailerFilme:function(){this.form.trailer=this.trailerURL.replace("watch?v=","embed/"),this.$refs["ficheirosModalTrailer"].hide()}},mounted:function(){this.getListaCategorias()}}),Te=Ae,Ue=(0,b.Z)(Te,ze,ye,!1,null,"03b2e59e",null),Fe=Ue.exports,Me=(a(1249),a(2222),"https://lumiereapi-9bfv.onrender.com/lumiere"),Oe=Me;function je(){var e=JSON.parse(localStorage.getItem("utilizador"));return e&&e.accessToken?{"Content-Type":"application/json",Authorization:"Bearer "+e.accessToken}:{"Content-Type":"application/json"}}var Ne={getPublicContent:function(){return(0,l.Z)((0,c.Z)().mark((function e(){var t,a;return(0,c.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Oe),{method:"GET"});case 2:if(t=e.sent,!t.ok){e.next=10;break}return e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:throw Error(Ie(t.status));case 11:case"end":return e.stop()}}),e)})))()},fetchOneUtilizadorByID:function(e){return(0,l.Z)((0,c.Z)().mark((function t(){var a,r;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(Oe,"/utilizadores/").concat(e),{method:"GET",headers:je()});case 2:if(a=t.sent,!a.ok){t.next=10;break}return t.next=6,a.json();case 6:return r=t.sent,t.abrupt("return",r);case 10:throw Error(Ie(a.status));case 11:case"end":return t.stop()}}),t)})))()},fetchAllUtilizadores:function(){return(0,l.Z)((0,c.Z)().mark((function e(){var t,a;return(0,c.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Oe,"/utilizadores"),{method:"GET",headers:je()});case 2:if(t=e.sent,!t.ok){e.next=10;break}return e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a.utilizador);case 10:throw Error(Ie(t.status));case 11:case"end":return e.stop()}}),e)})))()},eliminarUtilizador:function(e){return(0,l.Z)((0,c.Z)().mark((function t(){var a,r;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(Oe,"/utilizadores/").concat(e),{method:"DELETE",headers:je()});case 2:if(a=t.sent,!a.ok){t.next=10;break}return t.next=6,a.json();case 6:return r=t.sent,t.abrupt("return",r);case 10:throw Error(Ie(a.status));case 11:case"end":return t.stop()}}),t)})))()},updateUtilizador:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(Oe,"/utilizadores/").concat(e),{method:"PATCH",headers:je(),body:JSON.stringify({foto:t.foto,palavra_passe:t.palavra_passe,tipo:t.tipo})});case 2:if(r=a.sent,!r.ok){a.next=10;break}return a.next=6,r.json();case 6:return o=a.sent,a.abrupt("return",o);case 10:throw Error(Ie(r.status));case 11:case"end":return a.stop()}}),a)})))()},addFavoritos:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(Oe,"/utilizadores/").concat(e,"/favoritos/").concat(t),{method:"POST",headers:je()});case 2:if(r=a.sent,!r.ok){a.next=10;break}return a.next=6,r.json();case 6:return o=a.sent,a.abrupt("return",o);case 10:throw Error(Ie(r.status));case 11:case"end":return a.stop()}}),a)})))()},addLista:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(Oe,"/utilizadores/").concat(e,"/lista/").concat(t),{method:"POST",headers:je()});case 2:if(r=a.sent,!r.ok){a.next=10;break}return a.next=6,r.json();case 6:return o=a.sent,a.abrupt("return",o);case 10:throw Error(Ie(r.status));case 11:case"end":return a.stop()}}),a)})))()},addDesafio:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(Oe,"/utilizadores/").concat(e,"/desafio/").concat(t),{method:"POST",headers:je()});case 2:if(r=a.sent,!r.ok){a.next=10;break}return a.next=6,r.json();case 6:return o=a.sent,a.abrupt("return",o);case 10:throw Error(Ie(r.status));case 11:case"end":return a.stop()}}),a)})))()},addDesafioConcluido:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(Oe,"/utilizadores/").concat(e,"/desafioConcluido/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"}});case 2:if(r=a.sent,!r.ok){a.next=10;break}return a.next=6,r.json();case 6:return o=a.sent,a.abrupt("return",o);case 10:throw Error(Ie(r.status));case 11:case"end":return a.stop()}}),a)})))()}};function Ie(e){var t="";switch(e){case 401:t="Não é permitido executar esta ação!";break;case 403:t="Acesso proibido";break;default:t="Mensagem desconhecida";break}return t}var Le={login:function(e){return(0,l.Z)((0,c.Z)().mark((function t(){var a,r;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(Oe,"/utilizadores/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({utilizador:e.nome,palavra_passe:e.palavra_passe})});case 2:if(a=t.sent,!a.ok){t.next=11;break}return t.next=6,a.json();case 6:return r=t.sent,r.accessToken&&localStorage.setItem("utilizador",JSON.stringify(r)),t.abrupt("return",r);case 11:throw Error(Je(a.status));case 12:case"end":return t.stop()}}),t)})))()},logout:function(){return(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:localStorage.removeItem("utilizador");case 1:case"end":return e.stop()}}),e)})))()},register:function(e){return(0,l.Z)((0,c.Z)().mark((function t(){var a,r;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(Oe,"/utilizadores"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:e.nome,palavra_passe:e.palavra_passe,data_nascimento:e.data_nascimento})});case 2:if(a=t.sent,!a.ok){t.next=10;break}return t.next=6,a.json();case 6:return r=t.sent,t.abrupt("return",r);case 10:throw Error(Je(a.status));case 11:case"end":return t.stop()}}),t)})))()}};function Je(e){var t="";switch(e){case 400:t="O nome de utilizador já existe.";break;case 401:t="Credenciais erradas";break;case 404:t="Utilizador não encontrado";break;case 500:t="Erro do Servidor Interno";break;default:t="Mensagem desconhecida";break}return t}function De(){var e=JSON.parse(localStorage.getItem("utilizador"));return e&&e.accessToken?{"Content-Type":"application/json",Authorization:"Bearer "+e.accessToken}:{"Content-Type":"application/json"}}var Pe={fetchOneFilmeByID:function(e){return(0,l.Z)((0,c.Z)().mark((function t(){var a,r;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(Oe,"/filmes/").concat(e),{method:"GET"});case 2:if(a=t.sent,!a.ok){t.next=10;break}return t.next=6,a.json();case 6:return r=t.sent,t.abrupt("return",r);case 10:throw Error($e(a.status));case 11:case"end":return t.stop()}}),t)})))()},fetchAllFilmes:function(){return(0,l.Z)((0,c.Z)().mark((function e(){var t,a;return(0,c.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Oe,"/filmes"),{method:"GET"});case 2:if(t=e.sent,!t.ok){e.next=10;break}return e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a.filme);case 10:throw Error($e(t.status));case 11:case"end":return e.stop()}}),e)})))()},adicionarFilme:function(e){return(0,l.Z)((0,c.Z)().mark((function t(){var a,r;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(Oe,"/filmes"),{method:"POST",headers:De(),body:JSON.stringify({nome:e.nome,imagem:e.imagem,trailer:e.trailer,tipo:e.tipo,categoria:e.categoria,ano:e.ano,realizador:e.realizador,produtora:e.produtora,elenco:e.elenco,sinopse:e.sinopse,classificacao:e.classificacao})});case 2:if(a=t.sent,!a.ok){t.next=10;break}return t.next=6,a.json();case 6:return r=t.sent,t.abrupt("return",r);case 10:throw Error($e(a.status));case 11:case"end":return t.stop()}}),t)})))()},eliminarFilme:function(e){return(0,l.Z)((0,c.Z)().mark((function t(){var a,r;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(Oe,"/filmes/").concat(e),{method:"DELETE",headers:De()});case 2:if(a=t.sent,!a.ok){t.next=10;break}return t.next=6,a.json();case 6:return r=t.sent,t.abrupt("return",r);case 10:throw Error($e(a.status));case 11:case"end":return t.stop()}}),t)})))()},addComentario:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(Oe,"/filmes/").concat(e,"/comentarios"),{method:"POST",headers:De(),body:JSON.stringify({utilizadorID:t.utilizador,comentario:t.comentario})});case 2:if(r=a.sent,!r.ok){a.next=10;break}return a.next=6,r.json();case 6:return o=a.sent,a.abrupt("return",o);case 10:throw Error($e(r.status));case 11:case"end":return a.stop()}}),a)})))()},updateComentario:function(e,t,a){return(0,l.Z)((0,c.Z)().mark((function r(){var o,n;return(0,c.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch("".concat(Oe,"/filmes/").concat(e,"/comentarios/").concat(t),{method:"PATCH",headers:De(),body:JSON.stringify({spoiler:a})});case 2:if(o=r.sent,!o.ok){r.next=10;break}return r.next=6,o.json();case 6:return n=r.sent,r.abrupt("return",n);case 10:throw Error($e(o.status));case 11:case"end":return r.stop()}}),r)})))()},updateAvaliacao:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(Oe,"/filmes/").concat(e,"/avaliacao"),{method:"PATCH",headers:De(),body:JSON.stringify({avaliacao:t})});case 2:if(r=a.sent,!r.ok){a.next=10;break}return a.next=6,r.json();case 6:return o=a.sent,a.abrupt("return",o);case 10:throw Error($e(r.status));case 11:case"end":return a.stop()}}),a)})))()}};function $e(e){var t="";switch(e){case 401:t="Não é permitido executar esta ação!";break;case 403:t="Acesso proibido";break;case 404:t="Objeto não encontrado";break;default:t="Mensagem desconhecida";break}return t}function Ge(){var e=JSON.parse(localStorage.getItem("utilizador"));return e&&e.accessToken?{"Content-Type":"application/json",Authorization:"Bearer "+e.accessToken}:{"Content-Type":"application/json"}}var qe={fetchOneJogosByID:function(e){return(0,l.Z)((0,c.Z)().mark((function t(){var a,r;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(Oe,"/jogos/").concat(e),{method:"GET",headers:Ge()});case 2:if(a=t.sent,!a.ok){t.next=10;break}return t.next=6,a.json();case 6:return r=t.sent,t.abrupt("return",r);case 10:throw Error(Re(a.status));case 11:case"end":return t.stop()}}),t)})))()},fetchAllJogos:function(){return(0,l.Z)((0,c.Z)().mark((function e(){var t,a;return(0,c.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Oe,"/jogos"),{method:"GET",headers:Ge()});case 2:if(t=e.sent,!t.ok){e.next=10;break}return e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a.jogo);case 10:throw Error(Re(t.status));case 11:case"end":return e.stop()}}),e)})))()},adicionarJogo:function(e){return(0,l.Z)((0,c.Z)().mark((function t(){var a,r;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(Oe,"/jogos"),{method:"POST",headers:Ge(),body:JSON.stringify({nome:e.nome,img:e.img,tipo:e.tipo,perguntas:e.perguntas})});case 2:if(a=t.sent,!a.ok){t.next=10;break}return t.next=6,a.json();case 6:return r=t.sent,t.abrupt("return",r);case 10:throw Error(Re(a.status));case 11:case"end":return t.stop()}}),t)})))()},eliminarJogo:function(e){return(0,l.Z)((0,c.Z)().mark((function t(){var a,r;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(Oe,"/jogos/").concat(e),{method:"DELETE",headers:Ge()});case 2:if(a=t.sent,!a.ok){t.next=10;break}return t.next=6,a.json();case 6:return r=t.sent,t.abrupt("return",r);case 10:throw Error(Re(a.status));case 11:case"end":return t.stop()}}),t)})))()},fetchAllClassificacoes:function(e){return(0,l.Z)((0,c.Z)().mark((function t(){var a,r;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(Oe,"/jogos/").concat(e,"/classificacao"),{method:"GET",headers:Ge()});case 2:if(a=t.sent,!a.ok){t.next=10;break}return t.next=6,a.json();case 6:return r=t.sent,t.abrupt("return",r.jogo);case 10:throw Error(Re(a.status));case 11:case"end":return t.stop()}}),t)})))()},addClassificacao:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(Oe,"/jogos/").concat(e,"/classificacao"),{method:"POST",headers:Ge(),body:JSON.stringify({utilizadorID:t.utilizadorID,pontuacao:t.pontuacao})});case 2:if(r=a.sent,!r.ok){a.next=10;break}return a.next=6,r.json();case 6:return o=a.sent,a.abrupt("return",o);case 10:throw Error(Re(r.status));case 11:case"end":return a.stop()}}),a)})))()}};function Re(e){var t="";switch(e){case 401:t="Não é permitido executar esta ação!";break;case 403:t="Acesso proibido";break;case 404:t="Objeto não encontrado";break;default:t="Mensagem desconhecida";break}return t}function Be(){var e=JSON.parse(localStorage.getItem("utilizador"));return e&&e.accessToken?{"Content-Type":"application/json",Authorization:"Bearer "+e.accessToken}:{"Content-Type":"application/json"}}var Ve={fetchAllCategorias:function(){return(0,l.Z)((0,c.Z)().mark((function e(){var t,a;return(0,c.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Oe,"/categorias"),{method:"GET"});case 2:if(t=e.sent,!t.ok){e.next=10;break}return e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a.categoria);case 10:throw Error(Qe(t.status));case 11:case"end":return e.stop()}}),e)})))()},adicionarCategoria:function(e){return(0,l.Z)((0,c.Z)().mark((function t(){var a,r;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(Oe,"/categorias"),{method:"POST",headers:Be(),body:JSON.stringify({categoria:e})});case 2:if(a=t.sent,!a.ok){t.next=10;break}return t.next=6,a.json();case 6:return r=t.sent,t.abrupt("return",r);case 10:throw Error(Qe(a.status));case 11:case"end":return t.stop()}}),t)})))()}};function Qe(e){var t="";switch(e){case 401:t="Não é permitido executar esta ação!";break;case 403:t="Acesso proibido";break;default:t="Mensagem desconhecida";break}return t}function Ye(){var e=JSON.parse(localStorage.getItem("utilizador"));return e&&e.accessToken?{"Content-Type":"application/json",Authorization:"Bearer "+e.accessToken}:{"Content-Type":"application/json"}}var He={fetchOneDesafioByID:function(e){return(0,l.Z)((0,c.Z)().mark((function t(){var a,r;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(Oe,"/desafios/").concat(e),{method:"GET"});case 2:if(a=t.sent,!a.ok){t.next=10;break}return t.next=6,a.json();case 6:return r=t.sent,t.abrupt("return",r);case 10:throw Error(Xe(a.status));case 11:case"end":return t.stop()}}),t)})))()},fetchAllDesafios:function(){return(0,l.Z)((0,c.Z)().mark((function e(){var t,a;return(0,c.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Oe,"/desafios"),{method:"GET",headers:Ye()});case 2:if(t=e.sent,!t.ok){e.next=10;break}return e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a.desafio);case 10:throw Error(Xe(t.status));case 11:case"end":return e.stop()}}),e)})))()},adicionarDesafio:function(e){return(0,l.Z)((0,c.Z)().mark((function t(){var a,r;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(Oe,"/desafios"),{method:"POST",headers:Ye(),body:JSON.stringify({nome:e.nome,nEtapas:e.nEtapas,imagem:e.anexo})});case 2:if(a=t.sent,!a.ok){t.next=10;break}return t.next=6,a.json();case 6:return r=t.sent,t.abrupt("return",r);case 10:throw Error(Xe(a.status));case 11:case"end":return t.stop()}}),t)})))()}};function Xe(e){var t="";switch(e){case 401:t="Não é permitido executar esta ação!";break;case 403:t="Acesso proibido";break;default:t="Mensagem desconhecida";break}return t}r["default"].use(f.ZP);var We=new f.ZP.Store({state:{message:"",utilizadores:[],utilizador:null,loggedIn:!!localStorage.utilizador,loggedUser:localStorage.utilizador?JSON.parse(localStorage.utilizador):null,jogos:[],jogo:null,tipoJogo:["Quizz","Preencher","Lista"],filmes:[],filme:null,categorias:[],desafios:[]},getters:{getMessage:function(e){return e.message},isUser:function(e){return function(t,a){return e.utilizadores.some((function(e){return e.nome===t&&e.palavra_passe===a}))}},isUsernameAvailable:function(e){return function(t){return e.utilizadores.every((function(e){return e.nome!==t}))}},getUtilizadores:function(e){return e.utilizadores},getUtilizador:function(e){return e.utilizador},getLoggedIn:function(e){return e.loggedIn},getLoggedUser:function(e){return e.loggedUser},getJogos:function(e){return e.jogos},getJogo:function(e){return e.jogo},isNomeJogoAvalido:function(e){return function(t){return e.jogos.every((function(e){return e.nome!==t}))}},getTipoJogo:function(e){return e.tipoJogo},getFilmes:function(e){return e.filmes},getFilme:function(e){return e.filme},isNomeFilmeAvalido:function(e){return function(t){return e.filmes.every((function(e){return e.nome!==t}))}},getCategoria:function(e){return e.categorias},isCategoriaAvailable:function(e){return function(t){return e.categorias.every((function(e){return e.categoria!==t}))}},isFilmeFavoritoValido:function(e){return function(t){return e.utilizador.favoritos.every((function(e){return e.nome!==t}))}},isFilmeListaValido:function(e){return function(t){return e.utilizador.lista.every((function(e){return e.nome!==t}))}},getDesafios:function(e){return e.desafios},isDesafioAvailable:function(e){return function(t){return e.desafios.every((function(e){return e.nome!==t}))}}},mutations:{SET_MESSAGE:function(e,t){e.message=t},SET_LOGGED_USER:function(e,t){e.loggedIn=!0,e.loggedUser=t},loginFailure:function(e){e.loggedIn=!1,e.loggedUser=null},SET_LOGOUT:function(e){e.utilizadores.map((function(t){t.nome==e.loggedUser.nome&&(t=e.loggedUser)})),e.loggedIn=!1,e.loggedUser=null},SET_UTILIZADORES:function(e,t){e.utilizadores=t},SET_UTILIZADOR:function(e,t){e.utilizador=t.utilizador},SET_JOGOS:function(e,t){e.jogos=t},SET_JOGO:function(e,t){e.jogo=t},SET_FILMES:function(e,t){e.filmes=t},SET_FILME:function(e,t){e.filme=t},SET_CATEGORIAS:function(e,t){e.categorias=t},SET_DESAFIOS:function(e,t){e.desafios=t}},actions:{getAPIRoot:function(e){return(0,l.Z)((0,c.Z)().mark((function t(){var a,r;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,Ne.getPublicContent();case 3:r=t.sent,a("SET_MESSAGE",r.message);case 5:case"end":return t.stop()}}),t)})))()},register:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,a.prev=1,a.next=4,Le.register(t);case 4:o=a.sent,r("SET_MESSAGE",o.msg),a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](1),r("SET_MESSAGE",""),a.t0;case 12:case"end":return a.stop()}}),a,null,[[1,8]])})))()},login:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,a.prev=1,a.next=4,Le.login(t);case 4:o=a.sent,r("SET_LOGGED_USER",o),a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](1),r("loginFailure"),a.t0;case 12:case"end":return a.stop()}}),a,null,[[1,8]])})))()},getAllUtilizadores:function(e){return(0,l.Z)((0,c.Z)().mark((function t(){var a,r;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,t.next=4,Ne.fetchAllUtilizadores();case 4:r=t.sent,a("SET_UTILIZADORES",r),t.next=13;break;case 8:throw t.prev=8,t.t0=t["catch"](1),a("SET_UTILIZADORES",[]),a("SET_MESSAGE",t.t0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[1,8]])})))()},getUtilizador:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,a.prev=1,a.next=4,Ne.fetchOneUtilizadorByID(t);case 4:o=a.sent,r("SET_UTILIZADOR",o),a.next=13;break;case 8:throw a.prev=8,a.t0=a["catch"](1),r("SET_UTILIZADOR",null),r("SET_MESSAGE",a.t0),a.t0;case 13:case"end":return a.stop()}}),a,null,[[1,8]])})))()},logout:function(e){var t=e.commit;Le.logout(),t("SET_LOGOUT")},eliminarUtilizador:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,a.prev=1,a.next=4,Ne.eliminarUtilizador(t);case 4:o=a.sent,r("SET_MESSAGE",o.msg),a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](1),r("SET_MESSAGE",""),a.t0;case 12:case"end":return a.stop()}}),a,null,[[1,8]])})))()},updateUtilizador:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,a.prev=1,a.next=4,Ne.updateUtilizador(t[0],t[1]);case 4:o=a.sent,r("SET_MESSAGE",o.msg),a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](1),r("SET_MESSAGE",""),a.t0;case 12:case"end":return a.stop()}}),a,null,[[1,8]])})))()},addFavoritos:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,a.prev=1,a.next=4,Ne.addFavoritos(t[0],t[1]);case 4:o=a.sent,r("SET_MESSAGE",o.msg),a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](1),r("SET_MESSAGE",""),a.t0;case 12:case"end":return a.stop()}}),a,null,[[1,8]])})))()},addLista:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,a.prev=1,a.next=4,Ne.addLista(t[0],t[1]);case 4:o=a.sent,r("SET_MESSAGE",o.msg),a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](1),r("SET_MESSAGE",""),a.t0;case 12:case"end":return a.stop()}}),a,null,[[1,8]])})))()},addDesafio:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,a.prev=1,a.next=4,Ne.addDesafio(t[0],t[1]);case 4:o=a.sent,r("SET_MESSAGE",o.msg),a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](1),r("SET_MESSAGE",""),a.t0;case 12:case"end":return a.stop()}}),a,null,[[1,8]])})))()},addDesafioConcluido:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o,n,s;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=e.commit,o=!1,t[1].map((function(e){e.nEtapas==t[0].desafios.length+1&&(o=!0,n=e)})),!o){a.next=17;break}return a.prev=4,console.log(t[0]._id),console.log(n._id),a.next=9,Ne.addDesafioConcluido(t[0]._id,n._id);case 9:s=a.sent,r("SET_MESSAGE",s.msg),a.next=17;break;case 13:throw a.prev=13,a.t0=a["catch"](4),r("SET_MESSAGE",""),a.t0;case 17:case"end":return a.stop()}}),a,null,[[4,13]])})))()},getAllFilmes:function(e){return(0,l.Z)((0,c.Z)().mark((function t(){var a,r;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,t.next=4,Pe.fetchAllFilmes();case 4:r=t.sent,a("SET_FILMES",r),t.next=13;break;case 8:throw t.prev=8,t.t0=t["catch"](1),a("SET_FILMES",[]),a("SET_MESSAGE",t.t0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[1,8]])})))()},getFilme:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,a.prev=1,a.next=4,Pe.fetchOneFilmeByID(t);case 4:o=a.sent,r("SET_FILME",o),a.next=13;break;case 8:throw a.prev=8,a.t0=a["catch"](1),r("SET_FILME",null),r("SET_MESSAGE",a.t0),a.t0;case 13:case"end":return a.stop()}}),a,null,[[1,8]])})))()},novoFilme:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,a.prev=1,a.next=4,Pe.adicionarFilme(t);case 4:o=a.sent,r("SET_MESSAGE",o.msg),r("SET_FILME",o.id),a.next=13;break;case 9:throw a.prev=9,a.t0=a["catch"](1),r("SET_MESSAGE",""),a.t0;case 13:case"end":return a.stop()}}),a,null,[[1,9]])})))()},eliminarFilme:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,a.prev=1,a.next=4,Pe.eliminarFilme(t);case 4:o=a.sent,r("SET_MESSAGE",o.msg),a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](1),r("SET_MESSAGE",""),a.t0;case 12:case"end":return a.stop()}}),a,null,[[1,8]])})))()},addComentario:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,a.prev=1,a.next=4,Pe.addComentario(t[0],t[1]);case 4:o=a.sent,r("SET_MESSAGE",o.msg),a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](1),r("SET_MESSAGE",""),a.t0;case 12:case"end":return a.stop()}}),a,null,[[1,8]])})))()},updateComentario:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,a.prev=1,a.next=4,Pe.updateComentario(t[0],t[1],t[2]);case 4:o=a.sent,r("SET_MESSAGE",o.msg),a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](1),r("SET_MESSAGE",""),a.t0;case 12:case"end":return a.stop()}}),a,null,[[1,8]])})))()},updateAvaliacao:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,a.prev=1,a.next=4,Pe.updateAvaliacao(t[0],t[1]);case 4:o=a.sent,r("SET_MESSAGE",o.msg),a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](1),r("SET_MESSAGE",""),a.t0;case 12:case"end":return a.stop()}}),a,null,[[1,8]])})))()},getAllCategorias:function(e){return(0,l.Z)((0,c.Z)().mark((function t(){var a,r;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,t.next=4,Ve.fetchAllCategorias();case 4:r=t.sent,a("SET_CATEGORIAS",r),t.next=13;break;case 8:throw t.prev=8,t.t0=t["catch"](1),a("SET_CATEGORIAS",[]),a("SET_MESSAGE",t.t0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[1,8]])})))()},adicionarCategoria:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,a.prev=1,a.next=4,Ve.adicionarCategoria(t);case 4:o=a.sent,r("SET_MESSAGE",o.msg),a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](1),r("SET_MESSAGE",""),a.t0;case 12:case"end":return a.stop()}}),a,null,[[1,8]])})))()},getAllJogos:function(e){return(0,l.Z)((0,c.Z)().mark((function t(){var a,r;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,t.next=4,qe.fetchAllJogos();case 4:r=t.sent,a("SET_JOGOS",r),t.next=13;break;case 8:throw t.prev=8,t.t0=t["catch"](1),a("SET_JOGOS",[]),a("SET_MESSAGE",t.t0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[1,8]])})))()},getJogo:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,a.prev=1,a.next=4,qe.fetchOneJogosByID(t);case 4:o=a.sent,r("SET_JOGO",o),a.next=13;break;case 8:throw a.prev=8,a.t0=a["catch"](1),r("SET_JOGO",null),r("SET_MESSAGE",a.t0),a.t0;case 13:case"end":return a.stop()}}),a,null,[[1,8]])})))()},novoJogo:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,a.prev=1,a.next=4,qe.adicionarJogo(t);case 4:o=a.sent,r("SET_MESSAGE",o.msg),r("SET_JOGO",o.id),a.next=13;break;case 9:throw a.prev=9,a.t0=a["catch"](1),r("SET_MESSAGE",""),a.t0;case 13:case"end":return a.stop()}}),a,null,[[1,9]])})))()},eliminarJogo:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,a.prev=1,a.next=4,qe.eliminarJogo(t);case 4:o=a.sent,r("SET_MESSAGE",o.msg),a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](1),r("SET_MESSAGE",""),a.t0;case 12:case"end":return a.stop()}}),a,null,[[1,8]])})))()},getClassificacao:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,a.prev=1,a.next=4,qe.fetchAllClassificacoes(t);case 4:o=a.sent,r("SET_JOGO",o),a.next=13;break;case 8:throw a.prev=8,a.t0=a["catch"](1),r("SET_JOGO",null),r("SET_MESSAGE",a.t0),a.t0;case 13:case"end":return a.stop()}}),a,null,[[1,8]])})))()},addClassificacao:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,a.prev=1,a.next=4,qe.addClassificacao(t[0],t[1]);case 4:o=a.sent,r("SET_MESSAGE",o.msg),a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](1),r("SET_MESSAGE",""),a.t0;case 12:case"end":return a.stop()}}),a,null,[[1,8]])})))()},getAllDesafios:function(e){return(0,l.Z)((0,c.Z)().mark((function t(){var a,r;return(0,c.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,t.next=4,He.fetchAllDesafios();case 4:r=t.sent,a("SET_DESAFIOS",r),t.next=13;break;case 8:throw t.prev=8,t.t0=t["catch"](1),a("SET_DESAFIOS",[]),a("SET_MESSAGE",t.t0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[1,8]])})))()},getDesafio:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,a.prev=1,a.next=4,He.fetchOneDesafioByID(t);case 4:o=a.sent,r("SET_DESAFIOS",o),a.next=13;break;case 8:throw a.prev=8,a.t0=a["catch"](1),r("SET_DESAFIOS",null),r("SET_MESSAGE",a.t0),a.t0;case 13:case"end":return a.stop()}}),a,null,[[1,8]])})))()},adicionarDesafio:function(e,t){return(0,l.Z)((0,c.Z)().mark((function a(){var r,o;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,a.prev=1,a.next=4,He.adicionarDesafio(t);case 4:o=a.sent,r("SET_MESSAGE",o.msg),a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](1),r("SET_MESSAGE",""),a.t0;case 12:case"end":return a.stop()}}),a,null,[[1,8]])})))()}}});r["default"].use(U.Z);var Ke=[{path:"/",name:"paginaInicial",component:I},{path:"/filmes",name:"filmes",component:q},{path:"/filmes/:filmeInfo",name:"filme",component:H},{path:"/jogos",name:"jogos",component:ae,meta:{requerAutenticacao:!0}},{path:"/jogos/:jogo",name:"jogo",component:ce,meta:{requerAutenticacao:!0}},{path:"/jogos/:classificacao",name:"classificacao",component:pe},{path:"/perfil",name:"perfil",component:xe,meta:{requerAutenticacao:!0}},{path:"/sobreNos",name:"sobreNos",component:Ce},{path:"/adicionarFilme",name:"adicionarFilme",component:Fe,meta:{requerAutenticacao:!0}},{path:"*",name:"Error",component:Error}],et=new U.Z({mode:"history",base:"/Lumiere/",routes:Ke});et.beforeEach((function(e,t,a){e.meta.requerAutenticacao&&!We.getters.getLoggedUser?alert("É preciso autenticar primeiro!"):a()}));var tt=et,at=a(5069),rt=a(3017);a(44);r["default"].use(at.XG7),r["default"].use(rt.A7),r["default"].config.productionTip=!1,new r["default"]({router:tt,store:We,render:function(e){return e(T)}}).$mount("#app")},9136:function(e,t,a){e.exports=a.p+"img/catalogoImg.94588ad9.svg"},7940:function(e,t,a){e.exports=a.p+"img/jogosImg.e11a5b9a.svg"},5218:function(e,t,a){e.exports=a.p+"img/sobreNosImg.de08af1e.svg"},829:function(e,t,a){e.exports=a.p+"img/vetor.8fea9ebe.svg"}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,r,o,n){if(!r){var s=1/0;for(u=0;u<e.length;u++){r=e[u][0],o=e[u][1],n=e[u][2];for(var i=!0,c=0;c<r.length;c++)(!1&n||s>=n)&&Object.keys(a.O).every((function(e){return a.O[e](r[c])}))?r.splice(c--,1):(i=!1,n<s&&(s=n));if(i){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[r,o,n]}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/Lumiere/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,n,s=r[0],i=r[1],c=r[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(c)var u=c(a)}for(t&&t(r);l<s.length;l++)n=s[l],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(u)},r=self["webpackChunklumiere"]=self["webpackChunklumiere"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(1589)}));r=a.O(r)})();
//# sourceMappingURL=app-legacy.08e7e505.js.map